in the court of appeal of the republic of singapore[2020] sgca(i) 02 civil appeal no 81 of 2019betweenquoine pte ltd… appellantandb2c2 ltd… respondentjudgment[contract] — [breach][contract] — [contractual terms] — [express terms][contract] — [contractual terms] — [implied terms][contract] — [mistake] — [mistake of fact][restitution] — [unjust enrichment][trusts] — [breach of trust][trusts] — [express trusts] — [certainties]this judgment is subject to final editorial corrections approved by the court and/or redaction pursuant to the publisher’s duty in compliance with the law, for publication in lawnet and/or the singapore law reports.quoine pte ltdvb2c2 ltd[2020] sgca(i) 02 court of appeal — civil appeal no 81 of 2019sundaresh menon cj, andrew phang boon leong ja, judith prakash ja, robert shenton french ij and jonathan mance ij24 february 2020 judgment reserved.sundaresh menon cj (delivering the judgment of the majority):introduction1 the world of cryptocurrency trading is not for the faint-hearted. it can involve computer-generated, high frequency transactions in digital quasi-currencies (otherwise known and referred to in this judgment as “cryptocurrencies”) which manifest on computer screens or printouts but are not otherwise in a physical form. the transactions which have led to this appeal were conducted by way of algorithms created by the appellant, quoine pte ltd (“quoine”), and by the respondent, b2c2 ltd (“b2c2”). quoine operated a cryptocurrency exchange platform known as quoinexchange (“the platform”), and b2c2 traded on the platform at the material time. both quoine and b2c2 were also market-makers on the platform, which meant that they created liquidity on the platform by actively placing orders to buy and sell cryptocurrencies, and in so doing, helped to minimise volatility in the market on the platform. as is typical of algorithmic trading, the buy and sell contracts on the platform were concluded without any direct human involvement, save that involved in the creation of the algorithmic processes leading to their formation. algorithmic trading has been described as follows (see alain chaboud et al, “rise of the machines: algorithmic trading in the foreign exchange market”, international finance discussion papers, 29 september 2009  at p 1):in algorithmic trading … [traders’] computers directly interface with trading platforms, placing orders without immediate human intervention. the computers observe market data and possibly other information at very high frequency, and, based on a built-in algorithm, send back trading instructions, often within milliseconds. …sometimes things can go wrong, as they did in the present case.2 it transpired that quoine’s failure to make certain necessary changes to several critical operating systems on the platform set off a chain of events that eventually led to the transactions which are at the heart of this appeal. on 19 april 2017, a total of 13 trades (“the disputed trades”) were concluded between b2c2 and two other users of the platform, namely pulsar trading capital and mr yu tomita (“pulsar” and “mr tomita” respectively, and “the counterparties” collectively), where b2c2 sold one type of cryptocurrency, ethereum (“eth”), for another type, bitcoin (“btc”), at a rate of either 9.99999 btc or 10 btc for 1 eth. the rates at which the disputed trades were concluded were approximately 250 times the then going rate in the market of around 0.04 btc for 1 eth. the disputed trades were automatically settled by the platform, and 3092.517116 btc was debited from the counterparties’ accounts and credited into b2c2’s account, while 309.2518 eth was debited from b2c2’s account and credited into the counterparties’ accounts. as the counterparties’ accounts did not have a sufficient btc balance to meet the amount that was debited, this resulted in a negative btc balance in the counterparties’ accounts. when quoine became aware of the disputed trades the next day, it considered the rates at which the trades were concluded to be highly abnormal and unilaterally proceeded to cancel the trades. the debit and credit transactions involving b2c2’s account and the counterparties’ accounts were also reversed.3 b2c2 subsequently commenced proceedings against quoine on the basis that its unilateral cancellation of the disputed trades and reversal of the settlement transactions were in breach of contract and/or breach of trust. the international judge who heard the matter (“the judge”) rejected all of quoine’s defences and allowed b2c2’s claims for both breach of contract and breach of trust. the judge did not address the issue of damages given that the trial was bifurcated (see b2c2 ltd v quoine pte ltd [2019] 4 slr 17 (“judgment”) at [134]).4 a central plank of quoine’s defence both at trial and on appeal was the contention that the contracts underlying the disputed trades (“the trading contracts”) were void or voidable for unilateral mistake. this requires us to consider how the doctrine of unilateral mistake should operate where the contracts in question were entered into by way of the parties’ respective algorithms, as transpired here.5 so far as the asserted breach of trust is concerned, this raises the complex question of whether the relevant cryptocurrency, btc, may even be regarded as a species of property capable of attracting trust obligations.6 both these questions were the subject of extensive analysis by prof goh yihan (“prof goh”), whom we appointed as amicus curiae. we are deeply grateful to prof goh for the extensive research he conducted and the excellent assistance he afforded us on both issues. however, the latter question was not explored in detail in the court below, where the parties appeared to have proceeded on the common ground that btc was a species of property that was capable of being the subject of a trust. despite prof goh’s able assistance, for reasons which we develop later, we think that the question as to whether btc can be the subject of a trust should not be dealt with here but should be kept open for another day, in a case in which this issue is properly before the court.7 in our judgment, for the reasons that follow, the judge was correct to find that there were no terms in the various contractual documents, whether express or implied, which entitled quoine unilaterally to cancel the disputed trades. we also agree with the judge that there was no operative mistake on the part of the counterparties that could be relied upon to vitiate the trading contracts. additionally, given that the btc was credited into b2c2’s account pursuant to valid contracts, b2c2 could not be said to have been unjustly enriched. we therefore dismiss quoine’s appeal with respect to the breach of contract claim. however, we are satisfied that no trust could have arisen over the btc in b2c2’s account, even assuming that the btc could be the subject of a trust. therefore, we allow quoine’s appeal with respect to the breach of trust claim and reverse the decision of the judge in that regard.the factual background8 the detailed facts are set out in the judgment at [14]–[26] and [69]–[105]. it suffices for us to reproduce the salient facts which are relevant to understanding the arguments made in this appeal.quoine and the quoter program9 we begin with a brief introduction of quoine and the program it used for its trades as a market-maker. quoine is a singapore incorporated company which operated the platform at all material times. the platform allows users to trade cryptocurrencies, like btc and eth, for other cryptocurrencies or for fiat currencies. it uses an electronic ledger as an order book for all the orders that are placed by users wishing to buy and sell cryptocurrencies. real time information on the available buy and sell orders are also displayed on the right panel of what was referred to as the “trading dashboard” located on the platform’s website.10 as mentioned, apart from being the operator of the platform, quoine also functions as a market-maker on the platform. in actively placing buy and sell orders, quoine adds depth to the order book and ensures that there is a continuous two-sided market on the platform, thus creating liquidity on the platform and helping to minimise volatility in the market (see judgment at [18]). a market-maker also profits from what is known as the “bid-ask” spread, which is the difference between the price at which the market-maker is willing to buy or bid for a particular currency and the price at which it is willing to sell or ask for that currency. in the material period, quoine was the principal market-maker on the platform. mr mario antonio gomez lozada (“mr lozada”), quoine’s chief technical officer, estimated that quoine was responsible for around 98% of the market-making trades on the platform (judgment at [73]).11 quoine’s market-making trades on the platform are conducted through its “quoter program”. the quoter program retrieves external market prices from other cryptocurrency exchanges and uses this data to determine the orders that quoine will place on the platform for market-making purposes. importantly, the quoter program is proprietary to quoine and the information generated by it is not available to other users of the platform (judgment at [18] and [72]).the counterparties and margin trading12 we touch on some basic aspects of trading on the platform as described in quoine’s trading rules dated 17 march 2017. there are two types of trading offered on the platform which are relevant to the present dispute. the first is spot trading, where trades are settled instantly with payment for a trade being effected as soon as the trade is completed. the second is margin trading, which is a variant where trades are entered into using borrowed funds (including borrowed cryptocurrencies). margin traders may obtain loans directly from quoine, or from other users of the platform willing to offer them. for margin traders with loans from quoine, the assets in their accounts serve as the collateral for the loans, which has a bearing on how the platform’s operating system functions. the platform is designed to close out a margin trader’s open positions when it detects that the margin trader may not be able to repay its loans. in the event that the collateral in the margin trader’s account falls below a pre-determined percentage of the loan, a margin call is triggered against the margin trader and the platform automatically force-closes its margin positions by placing market orders on the platform to close out its open positions. this is known as a “margin sell-out position”. 13 the platform continually monitors a margin trader’s “live profit and loss” in respect of each open position (“live p&l”) for the purposes of determining how much collateral the margin trader has available in its account. the live p&l is calculated by multiplying the quantity of borrowed cryptocurrency by the difference between its open price and its theoretical close price. the theoretical close price is calculated by simulating the closing of the margin trader’s position against the current price ladder on the platform’s order book. the price ladder refers to the available buy and sell orders with bid and ask prices that are presently on the platform’s order book. therefore, abnormally priced orders placed on the order book and/or an abnormally thin order book can affect the calculation of the margin trader’s live p&l, and cause the platform to detect that the margin trader is in a margin sell-out position and take steps to force-close the margin trader’s positions. in such circumstances, the platform’s operating system will automatically execute the force-closures as market orders to buy or sell the relevant currency at the best available price on the platform. further, the margin trader is not contacted in advance of the force-closures being executed; nor will it know the precise prices at which the force-closures will be executed (judgment at [17]).14 at and around the time of the disputed trades, the counterparties were trading in the eth/btc market using eth borrowed from quoine (judgment at [25]).b2c2 and the trading software15 next, we introduce b2c2 and its trading software. b2c2 is incorporated in england and wales and amongst its business interests is that of being a market-maker. as with other exchange platforms on which b2c2 conducts market-making, its entire trading process on the platform is automated using its algorithmic trading software (“the trading software”) which was designed to function with minimal human intervention (judgment at [13]). the trading software was designed almost exclusively by mr maxime boonen (“mr boonen”), a director of b2c2 and its key witness at the trial. it should be noted that the trading software’s algorithm is deterministic (judgment at [82]), which, as defined by both the judge and prof goh, is one which will always produce precisely the same output given the same input. to put it another way, the trading software will do just what it was programmed to do and does not have the capacity to develop its own responses to varying conditions. hence, faced with any given set of conditions, it will always respond to that in the same way. the fact that the trading software’s algorithm is deterministic is significant to our analysis below in relation to quoine’s defence of unilateral mistake.16 as explained in the report of quoine’s expert witness, mr vikram kapoor, the trading software’s algorithm for placing buy and sell orders on the platform comprises different “layers” at which different algorithmic trading “strategies” are applied. the first layer contains 12 different algorithmic trading strategies that are programmed to work in sequence, and such a series of trading strategies is known as a “strategy chain”. the “purequote” strategy, which the judge discussed at [83]–[84] of the judgment, is the first strategy in the strategy chain of the first layer. for the relevant sell (or buy) order b2c2 wishes to place on the platform, the purequote strategy first constructs an order book that is internal to the trading software based on the 20 best sell (or buy) orders already placed on the platform’s order book. this information is received from the platform. in constructing the internal order book, the purequote strategy will also disregard any sell (or buy) order that has been placed for less than a certain quantity of the cryptocurrency. the purequote strategy then processes the information on the internal order book and produces an “output” price. in other words, based on the parameters that have been pre-programmed into the purequote strategy, the purequote strategy determines the optimal output price given the information it has received from the platform. this output price that is produced by the purequote strategy, however, is not the price that the trading software will ultimately quote for the sell (or buy) order it eventually places on the platform. the output price from the purequote strategy merely serves as an input variable for the next trading strategy in the strategy chain, which in turn produces another output price. this process continues through all the trading strategies in the strategy chain, until all the strategy chains in the layers of the trading software’s algorithm that are running at the material time have been applied. at the end of this process, the final output price produced is that which the trading software quotes for the sell (or buy) order it places on the platform.17 where the platform is functioning properly with a healthy order book, the purequote strategy can construct the trading software’s internal order book by drawing on the 20 best orders from the platform’s order book. however, it was anticipated that there might be situations where the platform’s order book would be either empty or populated by a large number of low volume orders which the purequote strategy would disregard, such that the purequote strategy would have no or insufficient input from the platform’s order book. this was explained by mr boonen as follows:… [the output prices from the purequote strategy form] the basis of what orders we could later on send into the market, but the prices themselves are, so to speak, the best prices that we would compute on the basis of the order book proposed to us, but then other strategies can worsen those prices for a variety of reasons. so they form a sort of building block … there must at all time[s] exist such a building block, otherwise the rest of the strategy stack fails. that’s why we use that method of adding virtual prices that are not necessarily present in the market, because in a completely empty order book, for instance, the strategy cannot run, as … it doesn’t have an anchor from which it could create its output. [emphasis added]18 as alluded to in that extract from mr boonen’s evidence, when the purequote strategy has no or insufficient input from the platform’s order book, it would not be able to “run” and so to produce an output price. such a situation would be undesirable, given that the trading software was designed to function continuously with minimal human intervention. mr boonen therefore programmed the purequote strategy to always add a “virtual price” for the sell (or buy) orders of the trading software’s internal order book. the “virtual price” is also known as a “deep price”. the price is “virtual” in the sense that it is not obtained from the platform, but is inserted into the trading software’s internal order book so that the purequote strategy always has a price input to work with so as to produce an output price, even if there happened to be no or insufficient input from the platform’s order book. in this way, the trading software’s algorithm would continue functioning and placing orders on the platform. after some changes, mr boonen settled on programming a deep price of 10 btc to 1 eth for the sell orders for eth. this was done before the events with which we are concerned.the terms of use of the platform19 we turn to the terms and conditions of the agreement governing the use of the platform (“the agreement”), which were set out on quoine’s website. the agreement recited that it was “effective upon the date of electronic acceptance” and that it was “entered into by and between [quoine] and the user of [quoine’s platform]”. we highlight some of the relevant provisions of the agreement.20 under the heading “general terms”, the agreement stated:…this agreement sets forth the terms and conditions governing the access and use of the platform. this agreement may be changed at any time by the company. it is the responsibility of the user to keep himself/herself updated with the current version of the agreement. users and members waive any claim regarding this issue. this agreement may only be amended with the express consent of the company. ……[emphasis added]the same text, which purported to allow quoine unilaterally to vary the agreement, also appeared under the heading “membership and users of the platform”.21 similarly, under the heading “representations and warranties”, the agreement provided as follows in sub-para (h) (which we will refer to as “the without notice clause”):you agree that the company reserves the right to change any of the terms, rights, obligations, privileges or institute new charges for access to or continued use of services at any time, with or without providing notice of such change. you are responsible for reviewing the information and terms of usage as may be posted from time to time. continued use of the services or non-termination of your membership after changes are posted or emailed constitutes your acceptance or deemed acceptance of the terms as modified. [emphasis added]we will refer to the clauses excerpted at [20]–[21], which purported to allow quoine unilaterally to vary the terms of the agreement without giving notice to the users of the platform, collectively as “the unilateral variation clauses”.22 under the heading “trading & order execution”, the agreement provided that:only registered users or members are allowed to buy, sell and use the services provided by the platform. the exchange functions of [t]he platform will fill in orders at the best possible available market price. note that as markets move continuously, the prices displayed on user interfaces, on our web app or on mobile apps are in no way guaranteed. the platform, however, has been designed to allow members to fill at best possible prices and in a timely manner. nevertheless the company will not be liable under any circumstances for the consequences of any delay in order filling or failure to deliver or perform.furthermore, once an order is filled, you are notified via the platform and such an action is irreversible.…[emphasis added]b2c2 relied specifically on the italicised portion, which we will refer to as “the irreversible action clause”, to argue that quoine breached the agreement by unilaterally cancelling the disputed trades.23 as part of quoine’s defence, it asserted that in addition to the agreement, the services it provided to the users of the platform were governed by all other terms and conditions posted on quoine’s website, including those contained within the “‘risks in virtual currency transactions’ statement ... which was posted on [quoine’s] website on 22 march 2017” (“the risk disclosure statement”).24 the risk disclosure statement began with an explanatory paragraph:there are many risks associated with virtual currency transactions. please read the following to gain a sufficient understanding of the features, mechanisms, and risks in virtual currency transactions. please execute your transaction with understanding such features, mechanisms and risks without objection and based on your own judgment and responsibility.25 a class of risks designated “system risks” was set out as follows in the risk disclosure statement:8. system risks…please be aware that in the event that a customer loses any opportunity (e.g., the company is unable to receive a customer’s order and the customer therefore loses the opportunity to place the order, losing profits that he or she ordinarily would have earned) due to emergency system maintenance or a system failure, the company will not be able to execute a process to fix the error because it will be unable to identify the order details that the customer intended to place (the original order). the system may produce an aberrant value for the buy or sell price of the virtual currency calculated by the system. please be aware that if the company finds that a transaction took effect based on an aberrant value, the company may cancel the transaction. your understanding is appreciated.[emphasis added]26 quoine contended at trial, and on appeal, that when the risk disclosure statement was posted on quoine’s website in march 2017, it introduced a new term into the agreement (referring to the italicised text in the preceding paragraph) which permitted quoine to cancel a transaction if it had taken place at an “aberrant value”. we will refer to this as “the aberrant value clause”.the events leading to the disputed trades27 against that background, we outline the events that led to the disputed trades. on 13 april 2017, quoine changed some login passwords for several critical operating systems on the platform but, due to an oversight, certain necessary changes to the quoter program were not implemented (judgment at [71]). the effect of this was that the quoter program could not access external market data from other cryptocurrency exchanges, which prevented it from generating new eth/btc orders on the platform for market-making purposes (judgment at [72]). given that quoine was the primary market-maker on the platform at the material time, the fact that it stopped placing new orders resulted in the platform’s order book gradually thinning out.28 it was not until 19 april 2017 that the pre-existing eth/btc orders depleted to the point that mr lozada described the platform’s order book as “abnormally thin”. this affected the counterparties’ live p&l and caused the platform to conclude that they were in margin sell-out positions (see [12]–[13] above). this, in turn, triggered margin calls against them and the platform automatically force-closed their positions by placing market orders to buy eth at the best available price on the platform, in order to repay the counterparties’ eth loans. when the margin call was triggered against pulsar, the market orders to buy eth were first matched with the lowest priced sell orders available on the platform’s order book at that time. working its way through the sell orders, pulsar, through the platform’s algorithm, bought eth at prices that were increasingly higher in order to fulfil the margin call (see judgment at [78]–[79]). it became apparent that the loss of liquidity on the platform also caused the trading systems of other users of the platform to place sell orders at increasingly higher prices.29 as for b2c2, the platform’s thinning order book resulted in the purequote strategy of the trading software having no or insufficient input from the platform’s order book (see [16]–[17] above). this caused the deep price of 10 btc to 1 eth for the sell orders for eth, which had been programmed into the purequote strategy, to take effect in the trading software’s algorithm such that the trading software eventually placed sell orders to sell eth at prices of 9.99999 btc and 10 btc to 1 eth on the platform (see [18] above). when b2c2’s orders became the lowest priced sell orders available on the platform’s order book, they matched with pulsar’s market orders to buy eth. the force-closure of mr tomita’s positions was slightly different, but it was not suggested that anything turned on this (judgment at [80]). eventually, a total of 13 trades were concluded between b2c2 and the counterparties, these being the disputed trades which were concluded at approximately 250 times what had been the prevailing market rate of around 0.04 btc for 1 eth. the relevant amount of btc was accordingly debited from the counterparties’ accounts and credited into b2c2’s account, while the corresponding amount of eth was debited from b2c2’s account and credited into the counterparties’ accounts (see [2] above).30 mr lozada, upon becoming aware of the disputed trades, and with the strenuous encouragement of pulsar, decided that these should be cancelled and the resulting debit and credit transactions reversed. the disputed trades were thus cancelled on 20 april 2017 by quoine with the corresponding debit and credit transactions reversed.the decision below31 at the trial, b2c2 argued that quoine’s unilateral cancellation of the disputed trades and reversal of the settlement transactions were in breach of contract and/or breach of trust. in response, quoine raised the following defences to defend its unilateral cancellation of the disputed trades: (a) it was contractually entitled to cancel the trades by reason of two terms it sought to imply into the agreement; (b) it was contractually entitled to cancel the trades by reason of the aberrant value clause in the risk disclosure statement; (c) the trading contracts were void on the basis of unilateral mistake at common law, or, in the alternative, voidable on the basis of unilateral mistake in equity; (d) the trading contracts were void on the basis of common mistake at common law; and (e) b2c2 would otherwise be unjustly enriched at the expense of the counterparties. as mentioned, the judge rejected all of quoine’s defences and allowed b2c2’s claims for both breach of contract and breach of trust. we briefly set out the judge’s findings in relation to b2c2’s claims and quoine’s defences.the contractual relationship32 we first set out the judge’s findings in relation to the contractual relationship between b2c2, quoine and the counterparties. this in particular shaped the judge’s analysis of quoine’s defence of unilateral mistake. b2c2 argued that quoine was a common counterparty to all the trades made between the users of the platform. on this basis, it was said that the concluded trades took the form of back-to-back contracts between the buyer and quoine at one end, and the seller and quoine at the other. quoine, on the other hand, contended that the trades were concluded directly between the buyer and the seller, and that it only provided the platform on which the trades would be conducted. the judge agreed with quoine and held that the contract in respect of each concluded trade was made directly between the buyer and the seller (see judgment at [131]), though each of the parties was also contractually bound with quoine under the agreement which governed the terms of use of the platform. b2c2’s breach of contract and breach of trust claim33 with respect to b2c2’s breach of contract claim, the judge held that quoine’s unilateral cancellation of the disputed trades was a breach of the agreement, and in particular of the irreversible action clause (see [22] above; judgment at [136]–[137]).34 as for b2c2’s breach of trust claim, the judge found that quoine held the btc in b2c2’s account, which had been credited following the disputed trades, on trust for b2c2, and so quoine was in breach of trust when it reversed the relevant credit transaction (see judgment at [146]). the judge found that quoine held the btc on trust for b2c2 on the basis that the “three certainties” had been fulfilled, namely, certainty of subject matter, certainty of objects and certainty of intention to create a trust. first, the judge held that there was certainty of subject matter because cryptocurrency should be treated as property that was capable of being held on trust, on the basis that it satisfied the definition of a property right in national provincial bank v ainsworth [1965] 1 ac 1175 (“ainsworth”) at 1248, in that it was definable, identifiable by third parties, capable in its nature of assumption by third parties, and had some degree of permanence or stability. in any case, the judge noted, quoine did not dispute this (judgment at [142]). second, the judge found that there was certainty of objects, given that the beneficiaries were identifiable from the individual accounts of the users of the platform (judgment at [143]). third, the judge found that there was certainty of intention, based on the fact that the users’ assets were managed separately from quoine’s own assets, thereby indicating that quoine intended to hold the assets of an individual user on trust for that user (judgment at [145]).quoine’s defences35 turning then to quoine’s defences, quoine first sought to contend that two terms ought to be implied into the agreement (collectively, “the proposed implied terms”), namely:(a) quoine may reverse any trades which had been executed at any abnormal rate or price as a result of any technical and/or system failure and/or error affecting the platform; and(b) quoine may reverse any trades resulting from orders placed in breach of the terms of the agreement, including any trade resulting from any orders which amounted to market manipulation and/or abuse and, therefore, entailed an “unauthorised use” of the platform.36 the judge found that the proposed implied terms, which would allow quoine to reverse trades on the platform under certain circumstances, contradicted the irreversible action clause which was an express term of the agreement (judgment at [152]). the judge also found that in any event, the proposed implied terms were not necessary to give business efficacy to the agreement. it was instead the irreversible action clause, the express term, that brought certainty to the platform and led to a clear apportionment of risk (judgment at [153]–[154]).37 second, quoine argued that the aberrant value clause in the risk disclosure statement (see [25]–[26] above) allowed it unilaterally to cancel the disputed trades. the judge, however, disagreed that this had been incorporated into the agreement.38 third, quoine argued that it was entitled to cancel the disputed trades because the trading contracts were void on the basis of unilateral mistake at common law. quoine submitted that the counterparties had entered into the trading contracts under two mistaken beliefs: (a) that it was necessary to close out their positions in response to the margin calls which the platform made on them (“the first mistaken belief”); and (b) that they were buying eth for btc under contracts at prices which accurately represented or did not deviate significantly from the true market value and/or price of eth relative to btc on 19 april 2017 (“the second mistaken belief”). quoine argued in the alternative that the trading contracts were voidable on the basis of unilateral mistake in equity. quoine submitted that by deliberately including the deep prices in the trading software, b2c2’s conduct was unconscionable and amounted to sharp practice.39 in considering the issue of unilateral mistake, the judge held that where it was necessary to assess the state of mind of a party in situations where acts of deterministic computer programs were in issue, regard should be had to the state of mind of the programmer of the relevant program at the time it was written – which in the present case would be that of mr boonen (judgment at [211]). the judge rejected quoine’s contention that the court should instead approach the matter on the basis of considering what the contracting parties were likely to have known and intended if, hypothetically, they had met on the “floor of the exchange” for the purpose of entering into the disputed trades on 19 april 2017 (judgment at [200]). the judge found this approach wholly artificial given that the contracting parties had chosen to use deterministic algorithms as the means of entering into the trading contracts (see judgment at [204]).40 the judge held that the trading contracts were not void on the basis of unilateral mistake at common law. with regard to the first mistaken belief, the judge found that mr tseung wai kit (“mr tseung”), a co-founder of pulsar, did genuinely hold such a mistaken belief. but the judge was of the view that this was not a mistaken belief as to a term of the trading contracts (see judgment at [220] and [222]). as regards the second mistaken belief, not only did the judge find that mr tseung did in fact hold such a mistaken belief, the judge also held that it was a mistake as to a term of the trading contracts (judgment at [227]–[228]).41 in considering whether mr boonen had actual knowledge of the first mistaken belief and the second mistaken belief, contrary to quoine’s assertions, the judge did not think that there was any malicious motive on mr boonen’s part in designing the trading software and including the deep prices in the manner that he did. mr boonen had settled on programming a deep price of 10 btc to 1 eth for the sell orders for eth (see [18] above) after reducing it twice, first from an initial price of “a very high number” of btc to 1 eth to 50 btc to 1 eth, and then to 10 btc to 1 eth, and the judge accepted that these reductions were done for a variety of legitimate reasons (see judgment at [96]–[97]). the judge also accepted that although mr boonen knew, at the time he designed the trading software, that it would place sell orders at the deep price if the platform’s order book became empty, mr boonen did not ever consider that there was a real possibility of the deep price orders being executed (see judgment at [123]). the judge found that mr boonen’s design of the trading software and choice of the deep price were chiefly directed to ensuring that the trading software remained operational rather than exploiting the existence of illiquidity on the platform or a thinning order book (see judgment at [121]). the judge concluded that while mr boonen’s programming was opportunistic in the sense that b2c2 should be best placed to make a profit if the unlikely became a reality, it was in no respect sinister (judgment at [125]).42 the judge also accepted mr boonen’s evidence that he was unaware of the glitches causing illiquidity on the platform until after the events of 19 april 2017. while mr boonen had also made changes to the trading software’s code on 13 april 2017, the judge accepted that he had done so independent of and without knowledge of quoine’s failure, on the same day, to take certain necessary steps to secure the continued proper functioning of the quoter program (see judgment at [100]–[102]). there was also no evidence to show that mr boonen had turned his mind to the relationship between the margin traders and those who had loaned them money, much less programmed the trading software to exploit this relationship by causing its deep prices to consummate force-closures of the positions of margin traders (see judgment at [124] and [223]). the judge found that mr boonen also did not turn his mind to the circumstances that might lead to trades being executed at the deep prices (judgment at [230]). therefore, the judge concluded that mr boonen did not have actual knowledge of the first mistaken belief and the second mistaken belief. he accordingly found that there was no basis for quoine to rely on unilateral mistake at common law to void the trading contracts.43 the judge also held that the trading contracts were not voidable on the basis of unilateral mistake in equity, because he found mr boonen had no constructive knowledge of either the first mistaken belief or the second mistaken belief (see judgment at [233]). the judge further held that there was no impropriety on b2c2’s part, and its conduct, even if opportunistic, was not sinister (judgment at [236]).44 fourth, quoine argued that it was entitled to cancel the disputed trades because the trading contracts were void on the basis of common mistake at common law. quoine contended that at the time the disputed trades were concluded, both the counterparties and b2c2 wrongly assumed that (a) the platform was working correctly and (b) the trades were therefore being transacted under normal market conditions, meaning at prices which accurately reflected or did not deviate significantly from the true market value and/or price of eth relative to btc on 19 april 2017. the judge held that this defence failed because even if quoine held a mistaken belief as to the prices at which the disputed trades were to be concluded, mr boonen (and thus b2c2) did not (see judgment at [237]–[239]).45 fifth, quoine argued that it was necessary to cancel the disputed trades in order to prevent b2c2 from being unjustly enriched at the expense of the counterparties. the judge acknowledged that as a matter of legal formality, a cause of action in unjust enrichment would only accrue if b2c2 succeeded in its suit, and it would technically accrue to the counterparties and not to quoine. however, since b2c2 had not applied for this defence to be struck out, the judge decided to treat it as a potential defence (judgment at [242]–[244]). he found that the fact that the trading contracts were valid and enforceable operated as a bar to any action in unjust enrichment (judgment at [247], [249] and [252]).46 as for the relief sought by b2c2, the judge declined to allow b2c2’s prayer for specific performance, on the basis that the price of btc at the time of the judge’s decision was significantly higher than that when the disputed trades were concluded, and this would therefore cause substantial hardship to quoine (judgment at [256]).the issues on appeal47 the issues that arise in this appeal and that we will address in this judgment are the following:(a) what were the contractual arrangements between b2c2, quoine and the counterparties?(b) was quoine contractually entitled to cancel the disputed trades by reason of any express or implied terms of its contract with b2c2?(c) in relation to quoine’s defence of unilateral mistake, did the judge err in finding that mr boonen did not have actual or constructive knowledge of a relevant mistaken belief on the part of the counterparties in relation to the disputed trades?(d) were the trading contracts void on the basis of common mistake at common law?(e) was quoine entitled to cancel the disputed trades on the basis that b2c2 would otherwise be unjustly enriched at the expense of the counterparties? (f) did quoine hold b2c2’s cryptocurrency assets on trust?our decisionissue (a): the contractual relationships48 we begin with the question of how the contractual relationships between b2c2, quoine and the counterparties should be characterised. as the judge noted, the resolution of this question is relevant to the subsequent analysis on unilateral mistake, in so far as it is first necessary to identify which contract was affected by any asserted mistake and who the mistaken party was (judgment at [129]).49 b2c2 contended that the correct way to understand the contractual relationships was to see the trading contracts as part of a “spider’s web” of contracts, with quoine as the central counterparty to both sides of each trade. in this way, the platform would enable trading to be conducted on an anonymous basis as between the ultimate buyers and sellers. b2c2 argued on this basis that there could be no operative mistake as to the terms of the trading contracts made between quoine and b2c2 in relation to the disputed trades. any alleged unilateral mistake would be that of the counterparties, and so quoine’s defence of unilateral mistake would fail at the threshold. quoine, on the other hand, argued that the agreement made it plain that quoine merely provided a service to the users of the platform, and that the trading contracts were made directly between the buyers and the sellers.50 we affirm the judge’s analysis of the contractual arrangements between the various parties, in which he accepted quoine’s characterisation of the contractual relationships. in essence, he held that the trading contracts were formed directly between b2c2 and the counterparties (judgment at [131]). the trading contracts constituted one of three categories of contracts the judge identified, as follows (see judgment at [126]):(a) the first category was the “platform contracts”, which governed the use of the services provided by the platform, the parties to which were quoine and the individual users of the platform, and the terms of which were found in the agreement.(b) the second category was the “margin contracts”, which concerned the arrangements based on which the margin traders would have their transactions financed. in the present case, the parties to these were quoine and the counterparties.(c) the third category was the “trading contracts”, which were the contracts that came into existence when trades were concluded and governed the relationship between the parties to those trades. for the avoidance of doubt, we refer to this category of contracts as “trading contracts”. as for the specific trading contracts that underlay the disputed trades, we refer to these as trading contracts, as noted at [4] above. the judge held that b2c2 and the counterparties were the parties to the trading contracts in question in this case.51 in our judgment, this characterisation of the trading contracts best accords with the terms of the agreement, which made clear that quoine was merely providing a service to the users of the platform which would transact with one another in the exchange of cryptocurrencies on the platform.52 first, the “general terms” of the agreement stated as follows:quoine is a platform that provides services that allow the exchange of virtual currencies such as [btc] for fiat currencies. ……this agreement sets forth the terms and conditions governing the access and use of the platform. ……the same was repeated under the heading “membership and users of the platform”.53 second, under the heading “fees, funding & withdrawals”, it was stated that “[a]s compensation for [t]he platform services … [quoine] charges a fee on each transaction initiated by [the users of the platform]”. this lent support to the contention that quoine was merely providing a service to the users of the platform for which it charged a fee.54 third, under the heading “trading & order execution”, it was stated that:only registered users or members are allowed to buy, sell and use the services provided by the platform. the exchange functions of [t]he platform will fill in orders at the best possible available market price. ……this suggested that quoine’s primary function was to operate the platform which would fill orders placed by its users at the best available market price.55 we therefore agree with the judge that quoine was only providing the services available on the platform and that it was the parties to the trading contracts that were responsible for whether and on what terms they would place or fill orders. this, however, is not to say that there was no contractual relationship between quoine and the users of the platform. first, as we have noted at [50(a)] above, quoine as the provider of the platform’s services entered into platform contracts with the users of the platform. second, as noted at [50(b)] above, quoine could be and was party to margin contracts. third, given that quoine also acted as a market-maker on the platform, there would have been situations where quoine was the counterparty to a concluded trade, in which case it would have been party to a trading contract with a user of the platform. however, the trades that we are concerned with in the present case, specifically the disputed trades, did not involve that situation.56 in addition, we do not accept b2c2’s other arguments as to why the contractual relationships ought to be seen as a “spider’s web” of contracts. b2c2 contended that quoine must have interposed itself as a “middle-man” in any trade and was obliged to underwrite the risk of a counterparty not being able to fund a trade, given that trading on the platform was conducted anonymously and the users of the platform would not have visibility of the creditworthiness of potential counterparties. we do not accept this because the terms of the agreement seem to us to say the very opposite:trading & order execution…[quoine] and its affiliates assume no responsibility for any loss or damage incurred by members or users as a result of their use of [t]he platform ……representations and warrantiesas a member or user, you agree to the following:…d. you agree that use of the service is at your own risk and you are solely responsible for interactions … with any other member or user of the service. [quoine] … assume[s] no responsibility whatsoever for harm that may come to you as a result of your interactions with any other member or user of the service ……[emphasis added]57 it is evident from these terms that quoine had expressly sought to disclaim any liability for losses that users of the platform might suffer arising from their use of the platform. this would include the credit risk of a counterparty.58 we also do not accept b2c2’s argument that the trading contracts could not have been formed directly between the buyers and sellers on the platform because all trading was done anonymously. even if the traders were unaware of who their potential counterparties might be before the conclusion of the trades, once a trade was completed, the identity of the parties to the trade became ascertainable by way of a unique user identification number (judgment at annex 3). further, there is no difficulty in the fact that the traders would not know who their counterparties were until after the trades were concluded, given that they were agreeing in effect to enter into contracts with such other users of the platform as accepted their bids or asks as the case might be. we will discuss this in greater detail when we examine the formation of contracts by algorithmic trading (at [94]–[96] below).issue (b): express and implied terms of the agreement59 quoine argued that there were terms in the agreement, both express and implied, which allowed it to cancel the disputed trades. we do not accept these contentions for the following reasons.the aberrant value clause60 quoine argued on appeal (as it did at trial) that the aberrant value clause in the risk disclosure statement (see [25]–[26] above) entitled it to cancel the disputed trades. it also contended that the unilateral variation clauses (see [20]–[21] above) allowed it unilaterally to vary the terms of the agreement when it uploaded the risk disclosure statement on its website without giving notice to the users of the platform. on the other hand, b2c2 maintained that neither the risk disclosure statement nor the aberrant value clause had been incorporated into the agreement. b2c2 further submitted that even if the aberrant value clause had been incorporated into the agreement, it did not assist quoine because it would only have permitted quoine to cancel transactions in which the prices of the trades had been incorrectly calculated by quoine’s system due to a “system failure” or “malfunction”. “system failure” and “malfunction” were defined terms in the risk disclosure statement, and required there to be a situation where customers could “no longer … place orders over the internet”, or the orders “arrive[d] late or [could not] be placed” (see also [68] below). the disputed trades were not such transactions.61 the judge found that the unilateral variation clauses, properly construed, did not allow quoine to change the terms of the agreement without its drawing this to the attention of the users of the platform in some way. quoine thus had to provide notice to the users in order to effect a change to the terms of the agreement. the judge also found that merely uploading the risk disclosure statement on quoine’s website without any indication that it was intended to have legal effect did not constitute such notice that changes had been made to the agreement. this was because the risk disclosure statement purported only to be a summary of risks with no indication that it was intended to have legal effect (see judgment at [174]–[176]).62 we affirm the judge’s analysis on this point. although it was not necessary for quoine to obtain the consent of a user of the platform before changing the terms of the agreement, we are satisfied that a user had to have reasonable means of knowing that there had been a modification to the terms and what that modification was before any such change could have legal effect. armed with such knowledge, the user could then decide whether or not it would continue to use the platform. in this case, all quoine did was to upload the risk disclosure statement onto its website without more. this could not on any basis have sufficed to constitute the requisite notice.63 further, in determining whether notice of changes to the agreement had to be given, we also have regard to the unilateral variation clauses, which include the without notice clause (see [21] above). we reproduce the without notice clause here:you agree that [quoine] reserves the right to change any of the terms, rights, obligations, privileges or institute new charges for access to or continued use of services at any time, with or without providing notice of such change. you are responsible for reviewing the information and terms of usage as may be posted from time to time. continued use of the services or non-termination of your membership after changes are posted or emailed constitutes your acceptance or deemed acceptance of the terms as modified. [emphasis added]64 we note that the without notice clause expressly stated that quoine was permitted to effect changes to any of the terms, rights, obligations, privileges or to institute new charges for access to or continued use of services “without providing notice of such change”. however, the changes contemplated by this clause were restricted only to changes pertaining to “access to or continued use” of quoine’s services. we assume, without finding, that incorporating the aberrant value clause into the agreement would be such a change. even so, we think that it was implicit within the without notice clause that a user of the platform ought to be given the opportunity to consider the change in question, so that it could decide whether to continue using quoine’s services. we say this for three reasons.65 first, the without notice clause stated that changes to the terms would be “posted or emailed”, which suggested that quoine would take positive steps to bring the changes to the attention of the users of the platform. second, the clause stated that continued use of quoine’s services after such changes had been posted or emailed would amount to an affirmation or deemed acceptance of the terms as modified. this part of the clause would not make sense if the users did not have an awareness of those modified terms to begin with. third, the “general terms” of the agreement provided that the users of the platform were responsible for reviewing the changes to the agreement:… this agreement may be changed at any time by [quoine]. it is the responsibility of the user to keep himself/herself updated with the current version of the agreement. users and members waive any claim regarding this issue. … [emphasis added]this contemplated that users would have the opportunity to review the changes in the first place, which in turn necessitated them being given notice of these changes.66 for these reasons, we do not think that the requirement of notice was displaced by the without notice clause. sufficient notice of the incorporation of the aberrant value clause as a term of the agreement had to be given to users of the platform before it could be regarded as having been incorporated into the agreement. we acknowledge that pursuant to the “general terms” of the agreement, the onus was on the users of the platform to keep themselves updated with the latest version of the agreement. however, there must at least have been some indication on quoine’s website to inform users about amendments to the agreement. we therefore agree with the judge that simply uploading the risk disclosure statement onto quoine’s website without alerting users to the fact that a new term had been introduced was insufficient to constitute the requisite notice (see judgment at [176]).67 moreover, as the judge pointed out, the risk disclosure statement appeared to be nothing more than a summary of the various risks that users would expect to face when using the platform (see [24] above), and there would have been no reason for a user reading it to think that amendments to the terms of the agreement were embedded within it. we also find no reason to disturb the judge’s finding that there was nothing on quoine’s website, the agreement, or the risk disclosure statement to alert the user to the need to read these documents together.68 in any case, even if the aberrant value clause had been incorporated into the agreement, we do not think that it had the effect that quoine suggested it did of entitling it to cancel the disputed trades. the relevant portion of the risk disclosure statement which contained the aberrant value clause (the italicised text below) stated:there is the risk that a system failure may occur due to changes to the external environment, etc., and this may disrupt a customer’s ability to execute transactions. a “system failure” is when [quoine] finds that a malfunction (not including obstructed network lines or problems with a customer’s computer, etc.) has clearly arisen in the system required to provide [quoine’s] services, and customers are no longer able to place orders over the internet ([quoine’s] website, mobile site, or applications) or customers’ orders arrive late or cannot be placed.please be aware that in the event that a customer loses any opportunity (e.g., [quoine] is unable to receive a customer’s order and the customer therefore loses the opportunity to place the order, losing profits that he or she ordinarily would have earned) due to emergency system maintenance or a system failure, [quoine] will not be able to execute a process to fix the error because it will be unable to identify the order details that the customer intended to place (the original order). the system may produce an aberrant value for the buy or sell price of the virtual currency calculated by the system. please be aware that if [quoine] finds that a transaction took effect based on an aberrant value, [quoine] may cancel the transaction. your understanding is appreciated.[emphasis added]69 in our judgment, having regard to these portions of the risk disclosure statement, the aberrant value clause was meant to apply in situations where there was a discrepancy between the value input by a user of the platform and the value generated or calculated by the system “due to emergency system maintenance or a system failure”. in short, this would be the case where the value generated by the platform was not the value intended by the user. we come to this conclusion because of the words “[quoine] will not be able to execute a process to fix the error because it will be unable to identify the order details that the customer intended to place” [emphasis added]. it would be unsurprising in such circumstances that quoine could cancel the transaction; this was simply never an intended transaction. in the present case, however, the only alleged “malfunction” in the platform’s system was the quoter program not being able to access external price data and therefore not being able to generate new orders, which led to a gradual thinning out of the platform’s order book. apart from that, the market orders placed by the platform on the counterparties’ behalf were executed exactly as intended, which was to purchase eth at the best available price on the platform at the material time. the prices of b2c2’s sell orders for eth, at prices of 9.99999 btc and 10 btc to 1 eth, which orders were matched with the counterparties’ market orders, were similarly not “aberrant” in the sense that they were exactly what b2c2 intended them to be; they were simply the result of the pre-programmed deep price of 10 btc to 1 eth in the purequote strategy taking effect (see [29] above). the disputed trades were concluded based on prices correctly quoted by the trading software for b2c2, and market orders that were correctly placed by the platform for the counterparties.70 aside from this, if we were to accept quoine’s position, it would seem to lead to the conclusion that the aberrant value clause enabled quoine to undertake some sort of “reasonableness” check on transactions entered into by others and then to cancel whatever transactions it thought was beyond the bounds of reason. we do not think this can possibly be correct.the proposed implied terms71 we turn then to quoine’s contention that it was entitled to cancel the disputed trades on the basis of the proposed implied terms (see [35] above). we agree with the judge that the terms sought to be implied are incompatible with the irreversible action clause (see [22] above). the proposed implied terms would allow quoine to reverse trades on the platform which (a) had been executed at abnormal prices as a result of any error affecting the platform, or (b) resulted from orders placed in breach of the terms of the agreement. the irreversible action clause, however, provided that “once an order is filled, [the user is] notified via the platform and such an action is irreversible”.72 in sembcorp marine ltd v ppl holdings pte ltd and another and another appeal [2013] 4 slr 193 at [94]–[95], we held that a term may only be implied into a contract where the parties did not contemplate the issue at all and so left a gap in their contractual arrangements. if the question is whether the agreement made provision for whether and when a concluded trade could be reversed, the answer to this was that the irreversible action clause made it clear that once an order had been filled and the parties to the trade had been notified by the platform, such an action was irreversible. in this regard, the proposed implied terms are inherently incompatible with the irreversible action clause given that they purport to allow quoine to reverse trades which had been executed and had become irreversible.73 quoine sought to meet this by contending that the irreversible action clause only applied to the users of the platform and not to quoine itself as the owner and operator of the platform. we disagree. it is clear from the plain words of the irreversible action clause and the adjacent terms that it was meant to apply to all orders that had been filled, regardless of whether it was a user of the platform or quoine itself that was seeking to reverse the trades. the irreversible action clause (the italicised text below) was found under the heading “trading & order execution”, which provided as follows:only registered users or members are allowed to buy, sell and use the services provided by the platform. the exchange functions of [t]he platform will fill in orders at the best possible available market price. note that as markets move continuously, the prices displayed on user interfaces, on our web app or on mobile apps are in no way guaranteed. the platform, however, has been designed to allow members to fill at best possible prices and in a timely manner. nevertheless [quoine] will not be liable under any circumstances for the consequences of any delay in order filling or failure to deliver or perform.furthermore, once an order is filled, you are notified via the platform and such an action is irreversible.[quoine] and its affiliates assume no responsibility for any loss or damage incurred by members or users as a result of their use of [t]he platform …[emphasis added]74 as the judge noted at [151] of the judgment, the agreement governed the contractual relationship between quoine and all the users of the platform. therefore, the terms of the agreement would presumptively be equally applicable to quoine. this view is supported by the sentence immediately preceding the irreversible action clause, which sought to limit quoine’s liability for the consequences of any delay in the filling of an order or any failure to deliver or perform. similarly, the sentence that immediately followed the irreversible action clause limited quoine’s liability for any loss incurred by a user as a result of its use of the platform. these sentences would have been unnecessary if the provisions under the heading “trading & order execution” did not apply to quoine. furthermore, the irreversible action clause itself provided that once an order had been filled, and the users of the platform had been notified through the platform, “such an action”, which in this context could only mean the filling of the order, was irreversible. as the judge noted at [152] of the judgment, the word “irreversible” was plainly not qualified in any way and drew no distinction between the users of the platform and quoine as the operator of the platform.75 subsequent to the hearing of this appeal, quoine drew our attention to an article which commented on several aspects of the judgment: see kelvin low & eliza mik, “unpicking a fin(e)tech mess: can old doctrines cope in the 21st century?”, oxford business law blog, 8 november 2019  (accessed 14 november 2019) (“low & mik”). the authors argued that if quoine itself was not a counterparty to the disputed trades, then it must have been acting as agent for b2c2 and the counterparties, and the users of the platform in general, for the purposes of matching trades. on that basis, the authors contended that the irreversible action clause should be construed to mean that only the instructions given by the users to quoine as agent were irreversible, and not the trades themselves. we respectfully disagree. 76 first, it appears that the authors’ underlying premise was that the relationship between quoine and the users of the platform was binary – either quoine was the central counterparty to all trades on the platform, or it acted as agent for the users. however, we have held that the trading contracts were formed directly between the parties to the respective trades (see [50(c)] above) and this did not require a finding that quoine acted as agent for the parties. we consider the function of the platform to be somewhat similar to that of an internet messaging application, which allows users of the application to communicate with one another. if a contract is formed between two users on this messaging application, it would be artificial to suggest that the owner or operator of the platform acted as an agent for these users. there was no suggestion that trading instructions were first passed to quoine as a third party before they were uploaded on the platform. second, and more fundamentally, we consider the authors’ interpretation of the irreversible action clause to be contrary to the plain words of the clause. the irreversibility applies to the action of filling an order, as we have held at [74] above.77 for these reasons, we do not think that it is permissible to imply the terms that quoine was contending for.issue (c): unilateral mistake78 we turn to the central feature of quoine’s defence, and one which the judge acknowledged was “the most troubling and difficult in this case” (judgment at [183]). quoine relied on both unilateral mistake at common law and in equity to argue that the trading contracts should be vitiated, and therefore that its cancellation of the disputed trades was warranted. there is a threshold question whether quoine, which was not a party to the trading contracts, could invoke the doctrine by way of defence to the claim that it breached its contract with b2c2 (meaning, the irreversible action clause in the agreement). in other words, the question is whether quoine would necessarily be excused of its breach even if the trading contracts were vitiated. we assume, without deciding, that the defence of unilateral mistake was available to quoine in the indirect way argued. the parties did not dispute this specific point. as noted at [45] above and [132] below, a broadly similar approach was taken by the judge and by us in the context of the claim in unjust enrichment. leaving this to the side, the complexity arose because the defence of unilateral mistake was being raised for the first time, as far as we are aware, in the context of algorithmic trading and the formation of contracts by such means. b2c2 and the counterparties had entered into the trading contracts by means of b2c2’s and quoine’s deterministic algorithms. b2c2 and the counterparties therefore did not know until after the trading contracts had been entered into, whether an offer would be made or accepted, or the terms on which a contract would be concluded. how then could the doctrine of unilateral mistake apply in this situation, where the contracting parties did not know the specific terms on which the trading contracts would be entered into? it is therefore necessary to consider the principles behind the doctrine before considering its application to this novel situation.79 we state at the outset that we approach this issue of unilateral mistake on the footing that as a court applying the common law, our task is to apply the existing law on the doctrine subject to incremental adjustments being made in order to suit the particular context. algorithmic trading is an area of dynamic change, and it might be more appropriate for legislative intervention in due course, if it were thought that a more fundamental redesign of the applicable legal framework is called for. that is certainly not our view at this time and we consider that the existing body of law can be meaningfully adapted to deal with the situation at hand.doctrine of unilateral mistake at common law and in equity80 we begin by setting out the requirements for unilateral mistake at common law and in equity, and in so doing, we highlight their differences in requirements and consequences. this was the subject of our decision in chwee kin keong and others v digilandmall.com pte ltd [2005] 1 slr(r) 502 (“digilandmall.com”). in essence, one party must have transacted while operating under a mistake as to a fundamental term of the contract (see digilandmall.com at [34] and [80]). as we note below, there is a question as to whether this also applies in the context of the doctrine in equity. but beyond this:(a) for unilateral mistake at common law, the non-mistaken party must have had actual knowledge of the mistaken party’s mistake, and if this is established, the contract will be rendered void; but(b) for unilateral mistake in equity, the non-mistaken party must have had at least constructive knowledge of the mistaken party’s mistake and must have engaged in some unconscionable conduct in relation to that mistake, and if this is established, the contract will be voidable.81 we begin with the rationale underlying the doctrine of unilateral mistake at common law. as we alluded to in digilandmall.com, the reason for the doctrine is that “a party who is aware of the error made by the other party cannot claim that there is consensus ad idem” (at [31]). it follows that the doctrine is best understood by having regard to the principles governing offer and acceptance. a contract cannot be formed unless the contracting parties agree as to the terms of the contract. unilateral mistake at common law voids a contract because the contracting parties have not in fact reached an agreement when one party is mistaken as to the terms put forward by the other party, and that other party knows this to be the case. in such circumstances, there is no correspondence between offer and acceptance. to explain this, it is helpful to set out what has been explained in the law of contract in singapore (andrew phang boon leong gen ed) (academy publishing, 2012) at para 10.144:… by [the theory of “promisee objectivity”], there is no contract where the non-mistaken party knows … that the mistaken party does not intend to contract on the intended terms. there is no departure from an “objective” view of agreement because the law, in looking at the non-mistaken party’s knowledge of the mistaken party’s intention is not asking what the mistaken party intended. instead, it is looking at what the non-mistaken party had reason to believe for the purpose of interpreting the communication made by the mistaken party to the non-mistaken party. …in short, where the non-mistaken party knows that the mistaken party made a mistake in communicating a term, the non-mistaken party cannot treat the mistaken party as having agreed to the term. absent such knowledge, however, the position is otherwise because it would give rise to intolerable uncertainty in contractual arrangements if a party could be permitted to assert its own subjective view that it had operated under a mistake, even though there appeared objectively to be a concluded contract and the non-mistaken party was fairly operating on that basis.82 significantly, for the relevant mistake to void the contract, it must be about a term of the contract, and cannot merely be a mistaken assumption about the circumstances under which the contract was or would be concluded. a contract can be concluded as long as the contracting parties agree as to its terms, regardless of their beliefs and assumptions about the contract. this proposition was alluded to in the decision of smith v hughes (1871) lr 6 qb 597 (“smith v hughes”).83 in smith v hughes, the plaintiff farmer sued the defendant racehorse trainer for breach of a contract for the sale of oats. the plaintiff had given the defendant’s manager a sample of the new oats that he intended to sell and the defendant agreed to purchase those oats of which he received a sample. the defendant subsequently refused to complete the contract on the ground that the contract had been for the sale and purchase of old oats. at the trial, it was disputed whether the plaintiff and the defendant’s manager discussed the subject of the oats being old oats. at the end of the trial, the judge put two questions to the jury: (a) whether the word “old” had been used with reference to the oats in the conversation between the plaintiff and the defendant’s manager; and (b) whether the plaintiff had believed that the defendant believed that he was contracting for old oats. the judge directed the jury to find for the defendant if either question was answered in the affirmative. the jury found for the defendant but did not give specific answers to the two questions.84 on appeal, the court held that the judge’s direction in respect of the first question was correct. however, it found that the judge’s direction in respect of the second question was either wrong or likely to be misunderstood by the jury, and a new trial was therefore necessary. in the words of hannen j, for the jury to find for the defendant pursuant to the second direction, “the jury should find not merely that the plaintiff believed the defendant to believe that he was buying old oats, but that he believed the defendant to believe that he, the plaintiff, was contracting to sell old oats” [emphasis added] (smith v hughes at 611).85 the decisions of cockburn cj and blackburn j too illustrate the point that the relevant mistake to void a contract, on the basis of unilateral mistake, had to be about a term of the contract, and not merely about the circumstances under which the contract was or would be concluded.86 blackburn j put it in these terms at 606–607:… on the sale of a specific article, unless there be a warranty making it part of the bargain that it possesses some particular quality, the purchaser must take the article he has bought though it does not possess that quality. … even if the vendor was aware that the purchaser thought that the article possessed that quality, and would not have entered into the contract unless he had so thought, still the purchaser is bound, unless the vendor was guilty of some fraud or deceit upon him, and that a mere abstinence from disabusing the purchaser of that impression is not fraud or deceit … [emphasis added]87 cockburn cj identified “the fallacy of confounding what was merely a motive operating on the buyer to induce him to buy with one of the essential conditions of the contract” [emphasis added] (at 606). if a contracting party made a mistake about the circumstances under which the contract was or would be concluded, caveat emptor would apply, and the contract would not be vitiated so long as the parties did reach an agreement on the terms of the contract. in emphasising this point, cockburn cj also observed that “the passive acquiescence of the seller in the self-deception of the buyer [in thinking that the oats were old oats]” would not entitle the buyer to avoid the contract (smith v hughes at 602–603).88 the requirement that the relevant mistake to void a contract on the basis of unilateral mistake must concern a term of the contract was also applied more recently in the decision of the english high court in statoil asa v louis dreyfus energy services lp (the “harriette n”) [2008] 2 lloyd’s rep 685 (“statoil”). in statoil, the relevant question was whether a contract of compromise between the parties was binding on the claimant when its employee had made an error in calculating the amount of demurrage due from the defendant, because the claimant’s employee thought that the vessel in question had completed discharging her cargo on 13 october 2006 when in fact she only completed discharging on 24 october 2006. prior to concluding the contract of compromise, the defendant’s employee realised that the claimant’s employee made this error but opted to say nothing about it. aikens j held that it was not a term of the contract that the compromise was reached on the premise that the discharge had been completed on 13 october 2006 (at [91]). he accordingly held that there was no operative unilateral mistake as to a term of the contract, which therefore remained binding. citing smith v hughes in coming to his decision, aikens j framed the relevant proposition of law as follows (statoil at [88]):… if one party has made a mistake about a fact on which he bases his decision to enter into the contract, but that fact does not form a term of the contract itself, then, even if the other party knows that the first is mistaken as to this fact, the contract will be binding. … [emphasis added]89 we turn next to the rationale behind the doctrine of unilateral mistake in equity. we held in digilandmall.com that we have an equitable jurisdiction with regard to unilateral mistake and that this jurisdiction exists to assist us in achieving the ends of justice in appropriate cases (see digilandmall.com at [74] and [77]). to invoke this jurisdiction, it must be shown that the non-mistaken party had constructive knowledge of the mistaken party’s mistake and further, that it was unconscionable for the non-mistaken party to insist on the performance of the contract because it had engaged in some unconscionable conduct or sharp practice in relation to that mistake (see digilandmall.com at [80] and [83]).90 there is a question as to whether unilateral mistake in equity can extend beyond a mistake as to a term of the contract, and related to this, whether a mistaken assumption about the circumstances under which the contract was or would be concluded can itself be an operative mistake. the english authorities seem to suggest, on balance, that there is no equitable jurisdiction to vitiate a contract for unilateral mistake and if there were, they appear to doubt whether it extends beyond a mistake as to a term of the contract: see chitty on contracts (h g beale gen ed) (sweet & maxwell, 33rd ed, 2018) (“chitty”) at para 3-027; edwin peel, the law of contract (sweet & maxwell, 14th ed, 2015) at para 8–058; jack beatson, andrew burrows & john cartwright, anson’s law of contract (oxford university press, 29th ed, 2010) at p 278; see also clarion ltd and others v national provident institution [2000] wlr 1888 at 1905c–1905h; great peace shipping ltd v tsavliris salvage (international) ltd [2003] qb 679; huyton sa v distribuidora internacional de productos agricolas sa de cv [2003] 2 lloyd’s rep 780; statoil. the high court of australia in taylor v johnson (1983) 151 clr 422 treated relief for unilateral mistake as to a fundamental term as equitable in character; see also n c seddon & r a bigwood, cheshire and fifoot law of contract (lexisnexis butterworths, 11th australian ed, 2017) at para 12.44 in which it is said that an equitable principle of mistake has probably displaced any possible common law doctrine of mistake.91 as for the position in singapore, although there is a recognised equitable jurisdiction for dealing with unilateral mistake, the question as to whether this extends beyond a mistake as to a term of the contract remains open. in digilandmall.com, the mistake in question was undoubtedly one as to a fundamental term of the contract, namely the price, and there was no detailed discussion about whether any other type of mistake could be relied upon to invoke the defence (see digilandmall.com at [34] and [80]). it is true that in digilandmall.com, the court did go on to observe that “[o]ne suggested way” to differentiate between unilateral mistake at common law and in equity would be to hold that the former was “limited to mistakes with regard to the subject matter of the contract”, while the latter “[could] have regard to a wider and perhaps open-ended category of ‘fundamental’ mistake” (at [75]). this, however, was not explored or developed in detail.92 the issue of whether unilateral mistake in equity can extend beyond a mistake as to a term of the contract was not fully argued before us. in addition, we are satisfied that it is not necessary for us to determine this question in this case. even on the judge’s view of the relevant belief (the second mistaken belief) being treated as a mistake for the purposes of the equitable jurisdiction, there are the further requirements of constructive knowledge of the mistake and unconscionability and those simply did not exist in this case.93 if the doctrine of unilateral mistake is to be understood in terms of the principles governing offer and acceptance, or in other words, the formation of the contract, then, as prof goh suggested, the question of how the doctrine should apply to contracts made by computerised trading systems should be answered by first considering the more fundamental issue of how such contracts are formed. we therefore turn to consider this.94 the decision of the english high court in r (on the application of software solutions partners ltd) v her majesty’s commissioners for customs and excise [2007] ewhc 971 (admin) (“software solutions partners”) is of some assistance. there, the court considered an automated electronic process of contracting involving the software of the applicant, software solutions partners ltd (“ssp”). insurance brokers who used ssp’s software could enter into insurance contracts on behalf of their customers with insurers who were using the same software. a broker would input the details for the required insurance product into the software, which would calculate quotes available from those insurers based on pre-determined qualification criteria as agreed between the insurers and ssp, and also electronically determine whether the risk was acceptable to the insurers without referring it back to them. once the customer accepted the price and terms of an insurance cover, the software would process the customer’s data automatically and generate the relevant policy contract and the relevant insurer would be bound by it. all the information necessary for contract formation was pre-programmed in the software according to parameters laid down by the insurer. the court concluded in these circumstances that the insurer using the software had, expressly or impliedly, invited the insurance broker to use the software as the medium for contract formation and undertook to be bound by the automatically generated policy contract even if the insurer was temporarily unaware of it (see software solutions partners at [65] and [67]). put another way, the insurer made a binding offer to provide insurance and the broker, on the customer’s behalf, could accept it and that would be effective when received by ssp’s information system (see software solutions partners at [19]).95 the court in software solutions partners analogised that case to thornton v shoe lane parking ltd [1971] 2 qb 163 where lord denning mr discussed the situation of a customer putting money into an automatic machine and being issued with a ticket. there, lord denning mr held that the offer was made when the proprietor of the machine held it out as being ready to receive money and the customer accepted the offer by inserting money into the machine (at 169).96 what is clear in our case is that the trading contracts had been entered into pursuant to the parties’ respective deterministic algorithms. as was the case in software solutions partners for the insurers using ssp’s software, the contracting parties and quoine did not know beforehand that the trading contracts would be entered into; and they were also unaware of the specific terms on which the contracts would be concluded. these factors did not prevent the formation of the policy contracts in software solutions partners, and, in our judgment, did not here prevent the formation of a contract at the point of time when an offer made by one algorithm was accepted by the other.97 this was also the view of the judge and it drove him, in our judgment, inevitably, to adopt a certain analytical model when considering the issue of unilateral mistake. specifically, he refused to consider the matter by reference to what the position would have been and what the contracting parties were likely to have known, intended and agreed had they had face-to-face negotiations at a hypothetical meeting on the “floor of the exchange” to enter into the trading contracts, at the time these were entered into, because this was simply not how they had agreed to form their contracts. instead, they had decided to form contracts using the relevant deterministic algorithms (see judgment at [200] and [204]). we agree with this characterisation of the parties’ method of contracting and we think it would be wholly artificial to recast the relevant matrix of fact, which was one where the contracting parties did not in fact know beforehand that they were going to enter into the trading contracts or their terms, and were content to abide by what the relevant algorithms did at least as long as this was within the ambit of their programmed parameters. we also agree with the judge that it follows from this that in cases where contracts are made by way of deterministic algorithms, any analysis concerning knowledge of a mistake or unconscionably taking advantage of one must be done by reference to the state of mind of the programmers of the algorithms at the time of the programming (see judgment at [211]).98 as we have noted at [15] above, a deterministic computer program or algorithm is bound by the parameters set by the programmer, and can (and generally will) only do what the programmer has programmed it to do. given a particular input, it will produce a particular output; on each occasion, the output should and will be the same if the former does not change. therefore, when it comes to assessing the state of knowledge that is to be attributed to the parties at the time of a contract made by way of deterministic algorithms, the relevant inquiry cannot be directed at the parties themselves, who had no knowledge of or direct personal involvement in the formation of the contract. rather, working backwards from the output that emanated from the programs, we are driven to assess the relevant state of knowledge by examining that of the programmers. this approach is consistent with that which was advocated by prof goh.99 apart from determining whose knowledge is relevant, it is also important to consider the relevant time for assessing that person’s knowledge. in our judgment, the relevant time frame within which we should assess the knowledge of a programmer or the person running the algorithm would be from the point of programming up to the point that the relevant contract is formed. as prof goh noted, the point of programming is when the programmer’s knowledge is the most concretised. the question can first be framed in this way: if the algorithm was programmed to produce a particular output, why was this done? but the inquiry cannot end there and must extend past that point of time because there may be situations where a programmer or the person running the algorithm who did not contemplate the relevant mistake at the point of programming came to learn of it subsequently before the contract had been formed, and yet allowed the algorithm to continue running, intending thereby to take advantage of the mistake. in such a case, it would be wrong to ignore the subsequent acquisition of knowledge. this is why it is appropriate to have regard to the state of knowledge up to the time of the contract.100 prof goh cited nik yeo & joseph farmer, “mapping the landscape: cryptocurrency disputes under english law (part 2)” (2019) 5 jibfl 290 at p 291. this was a commentary on the judge’s decision in which the authors note as follows:an issue to which the case gives rise is an apparent timing mismatch: the traders’ mistakes must necessarily have arisen, or at least have been continuing, at the point of the original trades, whereas the last human input into the programming must by practical necessity have occurred before those trades. how then could the state of mind of the programmer when originally programming b2c2’s “deep price” methodology ever include knowledge of the relevant mistake? … the law might need to recognise that so long as the knowledge or intention of the original programmer was that there ought not to be the sort of mistake which subsequently arose, then it does not matter for the rules of unilateral mistake if the particular instantiation of that mistake post-dates the last act of a human being, so long as the programmer’s state of mind could be said still to be extant at the time the mistake is made (in other words, that the code has not changed by then in a way which would be inconsistent with that state of mind). [emphasis added]101 we also note that low & mik ([75] supra) made some similar points in commenting on the judge’s decision as follows:… being unaware of the conclusion of a contract, a contracting party utilising automated contracting is ipso facto incapable of having any actual knowledge of any mistake on the part of its counterparty at the time of contracting, however egregious the mistake. but this would have the effect of immunising any contracting party employing algorithmic contracting from the doctrine of unilateral mistake entirely, which cannot be correct. …… it is unrealistic to attempt to attribute knowledge of a future mistake to a past programmer a la nostradamus. …102 we have two observations on these extracts. the first relates to the level of knowledge of the mistake while the second relates to the time when the knowledge is assessed. turning to the first point, it is true that it may be artificial, even unrealistic, to conduct the analysis on the basis of an expectation that the non-mistaken party must have knowledge of the specific and precise details of the mistake that has arisen. programmers are not expected to be prophets and mistakes can take a wide range of forms. but the law on unilateral mistake is concerned:(a) with a type or class of mistake, that is one concerning the fundamental terms of the contract (at least at common law); and(b) with the mental state of the non-mistaken party – whether it knew (or ought to have known) of the (type of) mistake and was acting to take advantage of it.103 in our judgment, keeping the focus on these considerations enables us to address the authors’ concern that the state of mind of the programmer when originally programming the algorithm could never have included knowledge of the particular manifestation of the relevant mistake. that is not and should not be the inquiry and we do not think it was the inquiry that the judge pursued. rather, the relevant inquiry might be framed thus: when programming the algorithm, was the programmer doing so with actual or constructive knowledge of the fact that the relevant offer would only ever be accepted by a party operating under a mistake and was the programmer acting to take advantage of such a mistake? in our judgment, this was the essential methodology applied by the judge at [229]–[230] of the judgment, which we set out at [124] below.104 the second point which pertains to timing is resolved by the approach that we have set out at [99] above. if at the point of programming, the programmer contemplated or ought to have contemplated that a mistake might arise on the part of a counterparty to a future contract and designed the algorithm to exploit such a mistake, then it does not matter for the purposes of establishing the requisite knowledge that the relevant mistake had occurred after the algorithm had been programmed. further, as we have noted, the framework we have developed also enables the court to examine and consider the knowledge actually acquired after the point of programming and the actual conduct of the parties up to the time of the contract. however, we emphasise that this is directed at actual conduct. this is to be contrasted with the approach that quoine urged upon us, which we have rejected (see [97] above), which was to analyse the matter by reference to a “hypothetical meeting on the trading floor that notionally took place just before the contract was concluded in the light of the information available at that time”. on that approach, the question posed is whether the parties would have agreed to the contract with knowledge of the mistake. with respect, this is, as we have mentioned, a wholly artificial analysis that has no relation to the reality of the situation, which is that the trades were conducted by way of algorithmic trading and not by way of an imagined meeting on some trading floor. the consequence of this is that the parties had committed to transact with each other in a certain way which entailed that they would not even know whether a contract would be formed, and if it were, on what terms that would be, and they chose in these circumstances not to bargain for a right to review, confirm or invalidate any ensuing contract that might emerge out of the arrangements that they had committed to. this simply did not accommodate the court artificially (or “equitably”) interposing another last look at the proposed terms immediately prior to the algorithms concluding the contract and, for that matter, still less after. having committed to transact in this way, and in the absence of any basis upon which equity’s intervention could be justified up to the time the relevant offer was accepted and the contract formed, we cannot see a principled basis for such intervention premised on a review of the reasonableness of the ensuing contract after it had been formed without any mistake as to its terms. 105 we turn to the type of knowledge required on the part of the non-mistaken party of the mistaken party’s mistake, which, as stated at [80] above, differs depending on whether a party is seeking to invoke the doctrine of unilateral mistake at common law or in equity. the former requires proof that the non-mistaken party had actual knowledge of the mistake at the time of the contract, while the latter requires constructive knowledge (coupled with an element of unconscionability). the distinguishing line between actual knowledge and constructive knowledge can be difficult to draw, if not in theory then in practice. this is not least because both forms of knowledge require the court to adopt an objective inquiry (see digilandmall.com at [44]; wellmix organics (international) pte ltd v lau yu man [2006] 2 slr(r) 117 at [66]).106 the test for establishing actual knowledge is set out in digilandmall.com at [41]–[42] as follows:41 as is so often alluded to in the cases, in the absence of an express admission or incontrovertible evidence, the fact of knowledge would invariably have to be inferred from all the surrounding circumstances, including the experiences and idiosyncrasies of the person and what a reasonable person would have known in a similar situation. if a court, upon weighing all the circumstances, thinks that the non-mistaken party is probably aware of the error made by the mistaken party, it is entitled to find, as a fact, that the former party has actual knowledge of the error. following from that holding, the court should declare the contract so formed as void on the ground of unilateral mistake.42 in order to enable the court to come to the conclusion that the non-mistaken party had actual knowledge of the mistake, the court would go through a process of reasoning where it may consider what a reasonable person, placed in the similar situation, would have known. in this connection, we would refer to what is called “nelsonian knowledge”, namely, wilful blindness or shutting one’s eyes to the obvious. clearly, if the court finds that the non-mistaken party is guilty of wilful blindness, it will be in line with logic and reason to hold that that party had actual knowledge.[emphasis added]107 actual knowledge is concerned with the subjective knowledge of the non-mistaken party. in other words, for actual knowledge to be made out, it must be shown that the non-mistaken party actually knew of the relevant fact. however, the means by which the subjective knowledge of the non-mistaken party is ascertained may include considerations of the matter from an objective perspective. this was consistent with the approach that prof goh urged upon us at para 137 of his submissions on the mistake issue:what is the criterion to be applied in so far as the ascertainment of the presence of knowledge … is concerned? the answer would appear, by the very nature of the doctrine itself, to hinge upon the subjective knowledge of the party concerned. however, it is submitted that such “subjective knowledge” must be objectively ascertained, and, indeed, the case of hartog v colin & shields [[1939] 3 all er 566] supports this proposition. in that case, the reference to verbal and written negotiations prior to the sale concerned as well as expert evidence as to the prevalent trade practice … tilted the decision in favour of the defendant sellers who, singleton j decided, had obviously made a mistake which was equally clear to the plaintiff buyer, having regard to the objective facts just mentioned. as singleton j observed: “[t]here was an accident. the offer [by the defendant sellers] was wrongly expressed, and the defendants by their evidence, and by their correspondence, have satisfied me that the plaintiff could not reasonably have supposed that that offer contained the [defendants’] real intention.”[emphasis in original in italics; emphasis added in bold; footnotes omitted]108 in contrast to actual knowledge, constructive knowledge involves imputing knowledge to the non-mistaken party. the inquiry is not directed at whether the non-mistaken party actually knew of the mistaken party’s mistake, but whether a reasonable person in the position of the non-mistaken party would have known of the mistake. if the answer to that is yes, then the non-mistaken party is deemed to have constructive knowledge of the mistake, notwithstanding that it could not be proved that it did indeed have that knowledge. here the inquiry that is adopted by the court is necessarily an objective one.109 the final requirement to establish unilateral mistake in equity is that the non-mistaken party must also be found to have engaged in some unconscionable conduct in relation to the relevant mistake. in digilandmall.com, this was also referred to as “sharp practice” and “impropriety” (see digilandmall.com at [77] and [80]). much more recently, in bom v bok and another appeal [2019] 1 slr 349 (“bom”), we elaborated on what constitutes “unconscionable conduct” although this was not in the context of unilateral mistake in equity. in bom, we were required to consider the circumstances in which a deed of trust might be set aside on the basis of unconscionability, and in that context held that “the narrow doctrine of unconscionability” [original emphasis omitted] applies in singapore (at [142]):… to invoke the doctrine, the plaintiff has to show that he was suffering from an infirmity that the other party exploited in procuring the transaction. upon the satisfaction of this requirement, the burden is on the defendant to demonstrate that the transaction was fair, just and reasonable. in this regard, while the successful invocation of the doctrine does not require a transaction at an undervalue or the lack of independent advice to the plaintiff, these are factors that the court will invariably consider in assessing whether the transaction was improvident.in relation to the requirement for the plaintiff to be suffering from an infirmity, this refers to the plaintiff being poor and ignorant or suffering from other forms of infirmities of sufficient gravity, whether physical, mental and/or emotional in nature, as to have acutely affected his ability to “conserve his own interests” (bom at [141]). admittedly there is a potential tension between requiring, on the one hand, that unconscionability be shown, this necessarily being a subjective inquiry premised on what the non-mistaken party actually knew – see digilandmall.com at [78] – and, on the other, that the non-mistaken party have at least constructive knowledge of the mistake, this being, as we have already noted, an objective inquiry.110 aside from this, a narrow conception of unconscionability limits excessive subjectivity in determining what amounts to unconscionable conduct, and instead promotes certainty and predictability for contracting parties (see bom at [176]). given the circumstances of this case, and for reasons we will shortly develop, we consider that we would not on any footing have been able to find that there was unconscionable conduct on the part of b2c2 or mr boonen, and thus it is not necessary for present purposes either to resolve the tension we have alluded to or to decide the question as to whether the same narrow conception of unconscionability should apply in the context of unilateral mistake in equity. we therefore leave this open for the present.111 further, it is also relevant when considering unilateral mistake in equity to have regard to the degree of carelessness or negligence on the part of the mistaken party to determine where the equities fall, even if a mistaken party’s carelessness would not in and of itself disentitle it from relief (digilandmall.com at [79]).application to the facts of this case112 on appeal, quoine focused on the second mistaken belief as the operative mistake held by the counterparties, which was that they believed they were buying eth for btc under contracts at prices which accurately represented or did not deviate significantly from the true market value and/or price of eth relative to btc on 19 april 2017 (see [38] above). quoine argued that mr boonen had actual or at least constructive knowledge of the second mistaken belief, because his main objective in programming the trading software to place sell orders for eth at the deep price of 10 btc to 1 eth when the platform’s order book became empty or abnormally thin was to unconscionably profit from potential errors of the other market participants. against this, b2c2 submitted that there was no mistake as to the prices quoted and accepted for the disputed trades, and that mr boonen had not engaged in any unconscionable conduct when programming the trading software.113 to recapitulate, b2c2 had through its algorithm placed sell orders for eth on the platform at prices of 9.99999 btc and 10 btc to 1 eth. on the other side of the transactions, orders had been placed on behalf of the counterparties to buy eth at the best available price on the platform. these orders had been placed by the platform’s operating system, which had done just as it had been programmed to do in the light of the conditions presented on the platform. these were the two sides of the trades that were matched and resulted in the trading contracts.114 it is helpful to pause here and examine the position a little more closely. because the trading contracts had been entered into pursuant to deterministic algorithmic programs that had acted exactly as they had been programmed to act, it is not clear what mistake can be said to have affected the formation of the contracts. the mistake, if anything, was in the way the platform had operated as a result of quoine’s failure to make certain necessary changes to several critical operating systems, which led to a series of steps that force-closed the counterparties’ positions and triggered buy orders for eth being placed on their behalf. this might conceivably be seen as a mistake as to the premise on which the buy orders were placed, but it can in no way be said to be a mistake as to the terms on which the contracts could or would be formed. if a party a is told a falsehood by b which causes a to accept c’s offer to transact at a price a would not otherwise have transacted at, in circumstances where c was neither aware of nor involved in b’s falsehood, we are unable to see how that falsehood can be said to be a mistake that vitiates the contract. here, the problems with the quoter program and the subsequent force-closure of the counterparties’ positions are akin to a “falsehood” told by quoine to the counterparties. this cannot be a mistake that vitiates the trading contracts between b2c2 and the counterparties.115 accordingly, although we find no reason to disagree with the judge’s finding that the counterparties held the second mistaken belief that they were buying eth for btc at prices which did not deviate significantly from the market price on 19 april 2017 (see judgment at [228]), we respectfully disagree that this mistake was as to a term of the trading contracts. the second mistaken belief was characterised as a mistake as to the prices at which the trading contracts were entered into. in our judgment, this was incorrect. the prices that the disputed trades were concluded at were arrived at by operation of the parties’ respective algorithms, and it was common ground that these had operated as they were meant to. in fact, the precise mistake in this case was a mistaken assumption on the part of the counterparties as to how the platform would operate. in other words, their real belief was that the platform would not fail; and as the judge found, the premise for the second mistaken belief was that the platform would either always operate as intended or, alternatively, there would be adequate error identification and protection systems to prevent trading from continuing if the platform operations deviated from this assumed state of affairs (judgment at [227]). however, we do not see how this can assist quoine because the second mistaken belief was not a mistake as to the terms of the trading contracts, but instead was a mistaken assumption as to the circumstances under which the trading contracts would be concluded. this is not an operative mistake at least in the context of unilateral mistake at common law. in this regard, the position of the counterparties (with their mistaken assumption) is analogous to the position of the claimant in statoil, where the court found that there was no operative unilateral mistake as to a contract term and the contract of compromise in question thus remained binding (see [88] above). in fact, the claimant in statoil would, on the face of things, seem to have been in a better position than the counterparties in the present case, because the defendant in statoil was actually aware that the claimant had entered into the contract on a mistaken assumption; in contrast, as we discuss below, mr boonen did not have actual or constructive knowledge of the second mistaken belief (see [126] below).116 in a sense, this might be sufficient to dispose of the case on unilateral mistake (at least at common law). however, since we have left open the issue identified at [92] above, we proceed on the assumption that there was an operative mistake, and examine whether the non-mistaken party, b2c2, had the requisite knowledge of this mistake.117 in relation to b2c2, the judge made the following findings:(a) there was plainly no mistake on b2c2’s part in designing its algorithm to place the sell orders on the platform at the deep price.(b) there was no sinister motive behind mr boonen programming the trading software with the deep prices. specifically, at the time the trading software was designed, the deep prices had not been programmed with either the awareness or the intention to take advantage of a mistaken bid by a counterparty or to enter into a contract on that basis.118 quoine did not (and plainly could not) challenge the first finding and although it mounted a challenge of sorts against the second finding, we consider that this challenge was bound to fail. the judge gave detailed reasons for his findings and there is neither reason nor basis for us to overturn those findings. in this regard, we are cognisant of our position as an appellate court. we did not have the benefit of hearing the parties’ evidence at trial or grappling with the minutiae of that evidence as the judge did, and thus appropriate caution demands that we should be slow to overturn primary findings of fact made by the judge. in any event, we accept the judge’s findings for the following reasons.119 first, there were no grounds for concluding that mr boonen had ever turned his mind to the relationship between the margin traders and those who loaned them money (judgment at [124] and [223]). it is difficult to see how quoine could even begin to mount a challenge against this finding. it was not suggested that the deep prices were programmed with margin trades in mind. if mr boonen did not programme the deep prices with awareness or consideration of the terms on which margin trading was done, he could not have programmed the trading software with the knowledge that in situations of illiquidity on the platform when the order book was abnormally thin, margin calls would be triggered and market orders would be placed to purchase eth at the best available price, thereby creating an opportunity for exploitation.120 second, the judge accepted that the programming of the deep prices was in part to ensure that the purequote strategy would always have price inputs so that the trading software would function continuously (see [18] above), and in part to ensure that in the unlikely event that a trade were to occur at a deep price, it would adequately protect b2c2 against any adverse consequences of such a trade (see judgment at [83] and [85]). the judge acknowledged that mr boonen’s strategy might not have been wholly defensive, but nevertheless held that the overriding reason for programming the deep prices was to protect b2c2 in the event of the unexpected happening (see judgment at [119] and [230]).121 third, the judge accepted that when mr boonen designed the trading software, he knew of the possibility that the platform’s order book might become empty and that in that event the deep prices would be inserted into the trading software’s internal order book. however, the judge also stated that mr boonen had never considered that there was a real possibility of orders placed on the platform at the deep prices being filled. mr boonen in fact considered that this was unlikely and the judge found that he did not turn his mind in any detail to the circumstances in which this might happen (judgment at [121] and [123]).122 the first finding at [117(a)] above is fatal to any argument resting on common mistake since it is plain that b2c2 was never acting under a mistake (see [129] below).123 the second finding at [117(b)] above, in our judgment, is fatal to any argument resting on unilateral mistake. this is because it excludes any notion of the trading contracts having been concluded in circumstances where b2c2 either actually knew or must be taken to have known that these had been or must have been the result of a mistake having been made by either of the counterparties. this follows from the analysis of the law that we have set out above. further, as we have observed at [42] above, the judge also accepted that mr boonen had no knowledge of the glitches causing the illiquidity on the platform until after the disputed trades had been transacted.124 following from our analysis of the law at [103] above, the relevant inquiry in this case could be framed thus: when programming the trading software with the deep prices, was the programmer doing so with actual or constructive knowledge of the fact that sell orders at those prices would only ever be accepted by a party operating under a mistake and was the programmer acting to take advantage of that mistake? in our judgment, this was the essential methodology applied by the judge at [229]–[230] of the judgment and which led him to conclude that mr boonen neither had such knowledge nor programmed the trading software to take advantage of any such mistake:229 it is next necessary to determine whether mr boonen had actual knowledge of the mistaken belief at the time he inserted the deep prices … can it be said that mr boonen knew that “it was never contemplated by [any trader] that any trades would be transacted on the platform at prices which deviated so substantially from the actual market prices”? this amounts to a belief held by mr boonen at that date that the price was so abnormal that no trader would trade at that price otherwise by way of a mistake.230 … i have concluded on the basis of those findings of fact that mr boonen did not insert the deep prices with that belief. he foresaw that a number of factors might arise which would cause the deep prices to be inserted and the overriding reasons for them being inserted was to protect b2c2 in the event of the unexpected happening. he did not exclude the possibility of trades at those prices being executed. whilst he was aware that one possible cause was that it could be the result, wholly or in part, of some error or omission on the part of someone, including himself, he did not turn his mind in any detail to the circumstances that might lead to such trades being executed. he knew that the platform was an automated system and that therefore no opportunity would arise for any particular trade to be reviewed by the parties in advance. in the circumstances of this case, in order for him to have actual knowledge that other traders believed that in no circumstances would a trade be transacted on the platform at prices which deviated so substantially from the actual market prices, i consider that it would be necessary for it to be demonstrated that he held that belief himself, which he did not …[emphasis added]125 we have also observed above at [99] that the programmer’s knowledge, or indeed the knowledge of anyone running the algorithm, is relevant past the point of programming, and up till the disputed trades occurred. examining the state of b2c2’s knowledge at this later point in time, however, we consider that quoine could not establish or adduce any evidence to show that b2c2 and/or mr boonen had become aware of the problems with the quoter program or the fact that the platform’s order book had gradually thinned out in the period after the trading software had been programmed and prior to the disputed trades (which was when the trading contracts were entered into). quoine did seek to rely on the email that was sent by mr boonen on 20 april 2017, the morning after the disputed trades had occurred but in our view, this does not help its case at all. that email simply stated in the subject line “major quoine database breakdown, please call us urgently”. quoine argued that mr boonen’s reaction showed that he knew that there must have been some mistake. however, this, at its highest, showed mr boonen’s state of mind after he became aware of the disputed trades, which is not part of the relevant time frame. further, the email, if anything, supports the judge’s finding that mr boonen did not programme the trading software with the deep prices with any sinister intent, because his reaction was simply inconsistent with that of a man who had anticipated the possibility of such a mistake occurring and designed his algorithm to exploit it. 126 taking the evidence above together, it is apparent to us that mr boonen did not have actual or constructive knowledge of the second mistaken belief. mr boonen would have had to foresee a perfect storm of events that began with the problems with the quoter program and ended with the disputed trades being concluded at the deep price for him to have had, or be taken to have had, the second mistaken belief. despite quoine’s considerable efforts to mount a case suggesting even a hint of this, there was simply no evidence to suggest that mr boonen had ever contemplated anything of the sort. we therefore reject quoine’s case on this aspect of the appeal.127 we add for completeness that the second finding of the judge described at [117(b)] above, that there was no sinister motive behind programming the trading software with the deep prices, also excludes any notion of the trading contracts having been entered into in circumstances where b2c2 had acted unconscionably. we find no reason to disagree with the judge’s finding that although mr boonen’s inclusion of the deep prices was an opportunistic business decision, it was not motivated by sinister intent (judgment at [236]). 128 for all these reasons, we are satisfied that quoine’s defences of unilateral mistake at common law and in equity fail.issue (d): common mistake129 quoine also argued that the trading contracts were void for common mistake, since b2c2 and the counterparties had entered into the disputed trades under a shared mistaken assumption that they were transacting at or around the going market rate for eth. however, b2c2 could not have been labouring under such an assumption, given that it had placed its sell orders for eth at prices of 9.99999 btc and 10 btc to 1 eth on the platform because the intentionally pre-programmed deep price of 10 btc to 1 eth in the purequote strategy took effect (see [117(a)] above). therefore, quoine’s defence of common mistake at common law fails.issue (e): unjust enrichment130 we turn to quoine’s argument that it was entitled to cancel the disputed trades on the basis that b2c2 would otherwise be unjustly enriched at the expense of the counterparties and/or quoine. quoine’s and b2c2’s arguments on unjust enrichment hinged on whether we accepted that the trading contracts were vitiated for mistake. if the trading contracts remained valid and enforceable, that would seem to bar any action in unjust enrichment.131 in his discussion of the unjust enrichment point below, the judge applied our decision in singapore swimming club v koh sin chong freddie [2016] 3 slr 845 at [90], which sets out the three requirements for an action in unjust enrichment to succeed: (a) a benefit has been received or an enrichment has accrued to the defendant; (b) the benefit or enrichment is at the claimant’s expense; and (c) the defendant’s enrichment is unjust.132 as a preliminary point, we agree with the judge’s conclusion that if the disputed trades were not cancelled, b2c2 would stand to receive a substantial benefit in terms of the considerable value of btc that had been credited into its account. however, as the judge noted, this benefit would have been at the expense of the counterparties, which would have had to make up the shortfall between the btc actually in their accounts and the amount that had been debited from their accounts pursuant to the disputed trades. therefore, the cause of action in unjust enrichment should if at all vest in the counterparties, and not quoine. however, b2c2 did not attempt to strike out this aspect of quoine’s defence, and the judge therefore proceeded with the trial on the basis that it was properly raised as a defence. we therefore proceed on the same basis.133 as to the first element, there is no doubt that b2c2 was enriched or derived a benefit from having the proceeds of the disputed trades credited into its account. assuming that the counterparties are able to bring a claim against quoine for the losses they might suffer as a result of the disputed trades if the trading contracts remain valid and enforceable, it might then be said that b2c2’s enrichment was at least indirectly at the expense of quoine. on this basis, the first two requirements of unjust enrichment would be made out. we turn then to the last requirement, which is that there must be an unjust factor.134 the unjust factors that were pleaded by quoine were first, that the benefit was conferred upon b2c2 pursuant to a mistake, and second, that there was a lack of consent in the formation of the trading contracts by which b2c2 was enriched. in truth, these were the same points raised in relation to the case on unilateral mistake, which we have rejected.135 further, given our conclusion that the trading contracts are not vitiated, b2c2’s enrichment would have been pursuant to valid contracts and it is difficult to see how this could be said to be unjust. as stated in goff & jones: the law of unjust enrichment (charles mitchell, paul mitchell & stephen watterson eds) (sweet & maxwell, 9th ed, 2016) at para 9–94 (see judgment at [249]):where a benefit is mistakenly conferred by one party on another under a contract, a claim in unjust enrichment will commonly fail even if the mistake would otherwise support such a claim. … the contract will bar the claim, to the extent that it entitles the defendant to receive the relevant benefit. for the claim to succeed, the claimant will need to show that the contract is invalid, being either non-existent, void or voidable. … [emphasis added]136 therefore, we are satisfied that quoine’s defence of unjust enrichment cannot succeed.issue (f): the trust question137 finally, we turn to b2c2’s contention that quoine was holding the btc which was credited into b2c2’s account pursuant to the disputed trades on trust and that quoine breached that trust when it reversed that credit transaction. this raises the threshold issue of whether cryptocurrency, specifically btc, is a species of property that is capable of being held on trust.138 this point was not disputed by the parties when they were before the judge and was only raised belatedly by quoine on appeal. nevertheless, the judge briefly considered the question, and concluded that cryptocurrency satisfied all the requirements in the classic definition of a property right set out in the decision of the uk house of lords in ainsworth at 1248 (see [34] above). however, he left open the question of what the precise nature of the property right was, having been satisfied that cryptocurrency could be treated as property in a generic sense.139 there have been some other cases in the commonwealth that have implicitly accepted that cryptocurrency may be regarded as property, although we are not aware of any court that has attempted to identify the precise nature of the property right if any. in elena vorotyntseva v money-4 limited and others [2018] ewhc 2596 (ch), the english high court issued a proprietary injunction preventing the removal of specific eth and btc holdings. in coming to his decision, birss j observed that there had been no suggestion that cryptocurrencies could not be a form of property.140 in copytrack pte ltd v wall [2018] bcsc 1709, the supreme court of british columbia ordered that some c$400,000 worth of eth be traced, which suggests that eth was recognised as a species of property susceptible to tracing. the action was brought by copytrack pte ltd (“copytrack”), a company engaged in the business of digital content management and automated copyright enforcement. copytrack created its own cryptocurrency, copytrack tokens, and mistakenly transferred a more valuable cryptocurrency, eth, to the defendant investor instead of copytrack tokens. the eth was then transferred by the defendant to third parties. copytrack sought to trace and recover the eth. the court characterised the issue of whether the property law doctrines of conversion and wrongful detention could apply to cryptocurrencies as a “critical issue” and the “real issue on this application”. while the court did not go so far as to rule on whether cryptocurrencies could, in fact, be subject to specific property law claims, the court held that it would be unreasonable and unjust in the circumstances to deny copytrack a remedy, and so allowed copytrack to trace and recover the wrongfully transferred eth.141 academic commentators broadly agree that btc may be regarded as a property right, although they disagree as to the precise nature of this right. in jean bacon et al, “blockchain demystified: a technical and legal introduction to distributed and centralised ledgers” (2018) 25(1) rich j l & tech 1, the authors suggest (at para 182) that holders of digital tokens such as btc should be regarded as having a property interest at common law, because they hold a bundle of rights that include the right to control the token. this interest is identifiable through entries on the blockchain, can be transferred by entries of the blockchain, and has a high degree of permanence and stability.142 to similar effect is kelvin fk low & ernie gs teo, “bitcoins & other cryptocurrencies as property?” (2017) (21) singapore management university school of law research paper, where the authors argue that the property right relating to btc is the right to have one’s public btc address appear as the last entry in the blockchain in relation to a particular btc. such a right provides exclusive control to the holder in the form of universal exigibility and can be seen as involving a true property transfer when one transfers btc from one’s public btc address to another’s btc address.143 most recently, the uk jurisdiction taskforce (“ukjt”) chaired by sir geoffrey vos released its legal statement on cryptoassets and smart contracts (november 2019), where it considered the question of whether english law would treat a particular cryptoasset as property. the ukjt defined cryptoassets as generally having the following characteristics (at para 31): (a) intangibility; (b) cryptographic authentication; (c) use of a distributed transaction ledger; (d) decentralisation; and (e) rule by consensus. the ukjt stated (at para 85) that cryptoassets have all the indicia of property, and that their novel or distinctive features as aforementioned do not disqualify them from being property. the ukjt also stated that cryptoassets are not disqualified from being property simply because they might not be classifiable either as things in possession or as things in action. the ukjt therefore concluded that cryptoassets could be treated, in principle, as property.144 there may be much to commend the view that cryptocurrencies should be capable of assimilation into the general concepts of property. there are, however, difficult questions as to the type of property that is involved. it is not necessary for us to come to a final position on this question in the present case. this is because even if btc were to be regarded as a species of property which is capable of being the subject of a trust, we are satisfied that b2c2’s breach of trust claim would fail because, contrary to what the judge found, we consider that there was no certainty of intention to create a trust. in this regard, we agree with the observations made by french cj in the high court of australia decision of korda v australian executor trustees (sa) ltd (2015) 255 clr 62 (“korda”). french cj stated that the process of ascertaining whether the necessary intention to create a trust should be imputed is “one of construction of the relevant text or oral dealings in their context” (korda at [11]). he clarified that an intention is not to be imputed and a trust inferred “simply because a court thinks it is an appropriate means of protecting or creating an interest”. 145 the judge held that the “decisive factor” which led him to find that a trust had arisen over the btc that had been credited into b2c2’s account was that b2c2’s assets were held separately as assets of an individual user of the platform rather than as part of quoine’s trading assets. he regarded this as a “clear indication” that quoine claimed no title to the user’s assets and acknowledged that it was holding them to the order of the user who could demand withdrawal at any time (see judgment at [145]). in our respectful view, the mere fact that quoine’s assets were segregated from its customer’s cannot in and of itself lead to the conclusion that there was a trust. in vintage bullion dmcc (in its own capacity and as representative of the customers of mf global singapore pte ltd (in creditors’ voluntary liquidation)) v chay fook yuen (in his capacity as joint and several liquidator of mf global singapore pte ltd (in creditors’ voluntary liquidation)) and others and other appeals [2016] 4 slr 1248, we stated as follows at [61]:counsel for vintage … submitted at the hearing before us that the company had in effect by its conduct made a declaration of trust over the sum representing the unrealised profits by computing the gains and losses in relation to the unrealised profits daily, and thereafter setting aside and segregating the funds. in our view, however, the concepts of segregation and trust need to be clearly distinguished. the mere segregation of money into separate bank accounts does not equate to the creation of a trust and is not sufficient to establish a proprietary interest in those funds in anyone other than the account holder … put simply, segregation is a necessary but not a sufficient condition to give rise to an express trust over the sums in favour of the customers. what is further required is to establish that the company had the requisite certainty of intention for the funds to be held on trust … [original emphasis omitted; emphasis added in italics]146 in any event, the manner in which btc was actually stored by quoine in the cold storage wallet suggests that there was in fact, no segregation, which militates against the inference that it was being held on trust. the manner in which btc was set aside for users of the platform was explained by mr lozada as follows at the trial:q. … even though the asset in the wallet is not specifically identifiable to each customer, quoine has an internal book which identifies the amount of assets that are held to the credit of each customer; correct?a. yeah, the database has each customer account has the balance. it’s like – think of it as a bank. you have your us dollar and how much us dollar you hold in your account. that is in … quoine’s database.q. let’s assume there were only 100 eth in a cold storage wallet of quoine, and you have 100 customers with a credit of 1 eth each. then, in a sense, you would be able to identify that 1 eth belongs to each customer in the cold storage wallet; correct?a. we don’t normally do that. we base our accounting on what we have in the database. as i said before, what’s in the cold storage doesn’t necessarily have to match what the customer balance has. as i explained, if we sell a [btc] to a customer and the database gets updated, we will have to go and procure it. the database will say they own 1 [btc] or 1 eth. the wallet may have a different amount.[emphasis added]147 given that the amount that was reflected in the account balance of a user of the platform as it appeared on quoine’s database did not necessarily match the amount in the cold storage wallet, it could not be said that quoine was holding the amount stated in the user’s account balance on trust. from mr lozada’s explanation, it appears that the only amount which a user was concerned with was what was reflected on quoine’s database. the actual amount in the cold storage wallet did not matter because if there were insufficient assets to meet the account balance reflected in the database, quoine would simply purchase the required amount from other sources to make up the shortfall. we find this arrangement to be more akin to deposits being made with a bank (as mr lozada suggested at the trial). the account balance that was stated in quoine’s database was the amount quoine owed a user, and it was up to quoine to take steps to ensure that it could repay that debt as and when the user called on it.148 further, cl 9 of the risk disclosure statement seem to us to contradict the suggestion that there was an intention to create a trust. clause 9 provided that:…… [quoine] does not, however, take client fund safety measures such as depositing [the assets deposited by customers] in an account with a trust bank, etc. regarding these assets, so if [quoine] goes bankrupt, [quoine] will not be able to return customer assets, and customers may suffer losses.assets held on trust would generally not be subject to the trustee’s insolvency creditors.149 for these reasons, we are satisfied that no express trust arose over the btc in b2c2’s account. we therefore allow quoine’s appeal in this regard. that said, given our decision above that the trading contracts are valid and enforceable, b2c2 is nevertheless contractually entitled to the proceeds of the disputed trades from quoine.conclusion150 in the circumstances, we dismiss quoine’s appeal on the breach of contract claim, and allow its appeal on the breach of trust claim. unless the parties are able to come to an agreement on costs, they are to furnish written submissions limited to six pages each, within three weeks of the date of this judgment, as to the appropriate costs orders.151 finally, we would like to record our deep gratitude to prof goh for his submissions, which were characteristically thorough, meticulously researched and extremely clear and greatly assisted us in coming to our decision.sundaresh menon andrew phang boon leong judith prakashchief justice judge of appeal   judge of appealrobert shenton french international judge jonathan mance ij (dissenting):introduction152 do conventional legal principles work, or may they need to adapt, when traders hand their affairs to computers operating by algorithm? these questions are raised by this appeal. the computers in issue were “deterministic”, meaning that they operated according to pre-determined algorithmic programs, set by humans. this is therefore a case about the legal rules applicable when machines contract in mechanistic fashion by reference to their data input, and by mistake the data input is interrupted and so the outcome becomes fundamentally distorted. the contracts here, made in the middle of the night, were for the supply of btc by or through quoine in exchange for the supply of eth by b2c2 – i adopt throughout the abbreviations used by the majority (“the majority”) in their judgment (“the majority judgment”). in the event, the btc were undervalued or the eth over-valued by some 250 times, compared to any “normal” price. this occurred because quoine’s computer had, by accident, been cut off from outside world information. but it takes two to contract, and the programming of b2c2’s computer to bid or offer at “deep” prices played an important role which will require further examination.153 b2c2 maintains that, whatever went wrong, a contract so made must stand. for reasons which will appear, i consider that it is correct to approach the case on the basis that it would have been obvious to any human that a wholly untoward breakdown or error had occurred. since the contracts were made around midnight on 19 april 2017, no human was around to make this observation, but at 6.15am next morning b2c2 did make it, by sending to quoine the simple message: “major quoine database breakdown” and asking quoine to call b2c2 urgently. the question is whether the contracts were and are, nonetheless, binding. the facts154 the facts have been set out in the majority judgment. in brief outline:(a) the platform operated by quoine in singapore provided (i) a facility for trading virtual currencies against each other, together with (ii) a real-time price chart of completed trades for each currency pair executed on the platform and several other major cryptocurrency exchanges. the real-time prices so displayed were “calculated, consolidated and published” to the trading dashboard through a software program used by the platform known as the “quoter program”: judgment at [14] and mr lozada’s affidavit at [9(f)]. (b) quoine also acted as a market maker on the platform, using the external price information obtained by its quoter program to generate buy and sell orders, thereby generating liquidity and depth, minimising volatility and ensuring a continuous two-sided market on the platform: judgment at [18] and [72].(c) quoine extended credit to certain margin traders on the platform, which monitored such trades and was programmed, in the event of any margin shortfall, to close them out automatically, selling at the best available price the assets in the relevant trader’s account serving as collateral: judgment at [16]–[17].155 the platform and the quoter program were therefore designed and expected to operate integrally. however, on 13 april 2017 the login passwords for several critical systems on the platform were changed for security reasons, and, by oversight, the corresponding necessary changes to the quoter program were not implemented. as a result, the quoter program ceased to be able to access data from external exchanges and stopped creating new eth/btc orders on the platform. this did not generate an exception message, because the notification flag for such messages had itself been disabled (see the judgment at [71]–[72]).156  the volume of trades shown on the platform gradually diminished, as outstanding orders were filled, with the effect that in the middle of the night of 19 april 2017 the platform concluded that two margin traders, pulsar and mr tomita, who had borrowed eth from quoine in order to speculate in btc, were in a “margin sell-out position”. the platform therefore triggered calls to force-sell their btc assets in exchange for eth at the best available market price. adding to the chapter of misfortunes, though not centrally relevant to the issues before this court, the platform, by design oversight, lacked a facility to check that there were sufficient assets available as security to cover any perceived margin shortfall, and so purportedly sold considerably more btc than the margin traders had – 3000 btc were sold in the case of pulsar, which in fact only had some 13.5 btc: judgment at [73]–[74].157 b2c2 is a trader on the platform. its software program operated primarily by examining to the first 20 price levels on both the bid and the offer side, and calculating by a series of steps appropriate order levels. but, against the possibility that the available price levels might be too few or too low in value, the program included “deep prices” on the bid and ask side to prevent the program “erroring out”. as at 19 april 2017 these deep prices were 10 btc/eth on the ask side and 0.00001 btc/eth on the bid side. on the bid side (b2c2 buying eth in return for btc) an artificial limit would in practice prevent quotes reaching the platform, on the ground that the bid quantity was too small. on the ask side (b2c2 buying btc), the only limit was by reference to a threshold based on a notional exchange rate, regardless of the actual sale value. 158 bid and ask orders at deep prices were, it appears, regularly sent out into the market on the platform by b2c2’s program, but under normal conditions they were ignored, as they would be entirely out of line with available market prices. in evidence which the judge accepted (judgment at [113]), mr boonen, the proprietor of b2c2, explained that the purpose of the deep prices was “to cover the risk to b2c2 of uncertain liquidity and market conditions” (judgment at [112]), so catering for very remote market circumstances. mr boonen also stated:now, this check or this feature that we’re talking about, that price of 10, it’s not the sort of day-to-day measure, right. it is a circuit breaker. it is when something very unusual happens. it’s when the unfathomable actually crystallises. i think it’s important to add that clarification.the judge accepted that mr boonen was not thereby referring to the possibility of errors of which the programme might take advantage. he was “affronted at the suggestion” that he had designed the software with this in mind (judgment at [117]). on the contrary, the judgment recites that: 118 … [h]is primary concern when writing the program was to protect the integrity of the b2c2 trading system so as to minimise the risk of any unwarranted exposure. …121 … [h]e would have appreciated that the deep prices would only be likely to be executed when there was illiquidity in the order book for that was one of the reasons underlying the addition of the deep prices in the software in the first place. his reasoning was however directed to ensuring the b2c2 system remained operational in such circumstances rather than exploiting the existence of illiquidity.122 … he might have appreciated that one contributing factor to illiquidity could be due to an oversight or error on the part of someone but there are no grounds for concluding that he considered that these would be the only circumstances that would lead to illiquidity. …159 what in the event happened was that, in the absence of any other market liquidity, the force-close orders put out by quoine’s platform, following pulsar’s and mr tomita’s perceived defaults, were matched with seven of b2c2’s deep price bids for btc at or around 10 btc/eth. this “was at a rate approximately 250 times the rate of about 0.04 btc for 1 eth which had been the previous going rate” (judgment at [4]). next morning, when human eyes spotted what had happened overnight, quoine purported to reverse the trades. the present case is about whether it had valid grounds to do so. issues160 the trial and the appeal have raised a large number of issues, on most of which i am in full agreement with the majority. in particular, and for the reasons given at [48]–[58] of the majority judgment, i agree that the force-out sales which the platform brought about were between pulsar and mr tomita (the “counterparties” on whose behalf quoine was acting) and b2c2. i also consider, if there was any basis for their reversal, that quoine was acting on behalf of pulsar and mr tomita and was entitled to act on their behalf in taking advantage of it. a security holder is bound to have regard to the interests of a margin trader in executing against margin, and here that clearly required the reversal of the trades, if legally possible. 161 further, for the reasons given at [60]–[67] of the majority judgment, i agree that the contracts brought about by the computers did not incorporate the aberrant value clause, on which quoine relied. i prefer to reserve my position in relation to the construction and ambit of that clause had it been incorporated, addressed at [68]–[70] of the majority judgment, it being unnecessary to determine this. i also agree, for the reasons provided at [71]–[77] of the majority judgment, that it is not possible to identify any relevant implied term, unless (i would add) it were one simply mirroring the principles, as i analyse them below, governing mistake; those principles in my view reflect precisely what honourable and reasonable traders would also regard as axiomatic in the present context, whatever the other contractual terms. finally, i agree with the majority’s reasons at [129]–[149] for concluding that there was here no common mistake of the nature there identified, and no unjust enrichment or trust.unilateral mistake – digilandmall.com162 the central issue, in my opinion, addressed at [78]–[128] of the majority judgment, is whether the doctrine of unilateral mistake applies in these circumstances to enable the reversal of the trades. the law regarding unilateral mistake has been considered in singapore in digilandmall.com. the actual decision in digilandmall.com was based on findings of actual knowledge in relation to each appellant: see digilandmall.com at [88] et seq. the court’s discussion of the potential role of equity in the context of unilateral mistake was therefore obiter, though it is of great assistance in the analysis and merits close attention. the court was clear that, outside the sphere of common law mistake, there was room for equity to operate. the contrary simple approach (that unilateral mistake only exists at common law) would not, it thought, always lead to a just result. 163 there are two particular respects in which equity may supplement the common law relating to unilateral mistake. one is to give the court jurisdiction in cases of fundamental mistake of a nature not covered by the common law. the other is to give it jurisdiction in cases where the non-mistaken person lacks whatever is the requisite mental state for common law relief. the court in digilandmall.com alluded to both these aspects. it focused in the main on the latter aspect, and, as the majority judgment notes at [91], did not explore the former aspect in detail. but it came down in favour of a “flexible” doctrine of mistake in equity (further explored at [166] below), in terms which could countenance a wider and perhaps open-ended category of “fundamental” mistake. the court in digilandmall.com stated at [75] that one possible approach to equity’s role would be: 75 … [t]o hold that the former [ie, common law mistake] is limited to mistake with regard to the subject matter of the contract (like that in bell v lever bros), while the latter [ie, mistake in equity] can have regard to a wider and perhaps open-ended category of “fundamental” mistake: see william sindall plc v cambridgeshire county council [1994] 1 wlr 1016, per hoffmann lj at 1042.it went on at [76] to note that another possibility would be:76 … [t]o take a clear simplistic approach, namely, where there is actual knowledge, the contract would be void at common law. but where there is no actual knowledge, the contract ought to be performed. there would then be no room for equity to operate. but we believe that simplicity may not always lead to a just result, especially where innocent third parties are involved.164 the court concluded therefore that there is a role for equity. however, it did not endorse the precise distinction suggested at [75] of that case. that is because it saw common law mistake as extending beyond mistake with regard to the “subject matter” of the contract. denning lj had, in its view, erred in solle v butcher [1950] 1 kb 671 at 692 in suggesting (in relation to both common and unilateral mistake) that, following bell v lever bros [1932] ac 161, “only mistake relating to identity or subject matter would come within the common law doctrine of common mistake”, whereas any other “common mistake, even on a most fundamental matter”, such as a mistake “about the terms of an offer, or the identity of the person by whom it was made”, would not render a contract void at law. so thought the court in digilandmall.com at [58], and i respectfully agree.165 the limitation suggested by denning mr would restrict common law mistake radically (although he would have counter-balanced this with a correspondingly wider role for equity). however, the english authorities, considered in the majority judgment at [83]–[90], indicate that, contrary to what denning lj thought in solle v butcher, mistake under english common law extends to all situations involving a sufficiently fundamental mistake as to the subject matter or a term, though no further. that being the scope of common law mistake under the english law, it is, as the majority indicates at [90], unresolved to what, if any, extent there is, under english law, a further equitable jurisdiction to relieve against other situations of fundamental mistake. in contrast with english common law, the high court of australia has, i note, endorsed the limited role given to common law mistake by denning lj, but again counterbalanced this with a recognition of equitable relief in other cases: taylor v johnson at [9]–[11]. i note in this connection that the high court spoke of the nature of mistake “in relation to a fundamental term” as capable of leading to the grant of equitable relief where one party was aware that the other was “entering [into] the contract under some serious mistake or misapprehension about either the content or subject matter of that term” (taylor v johnson at [14]). further, it granted such equitable relief on the facts when all that could be said was that the non-mistaken party (mr taylor) “believed that [mrs johnson] was under some serious mistake or misapprehension about either the terms (the price) or the subject matter (its value) of the relevant transaction” (at [15]). 166 the court in digilandmall.com went on to consider and disagree with canadian authority which also suggested a composite analysis, whereby mistake in equity would subsume the common law. it went on at [55] to hold that there was a role for both common law and equitable mistake, along lines indicated in associated japanese bank (international) ltd v crédit du nord sa [1989] 1 wlr 255, where steyn j (as he then was) said this:no one could fairly suggest that in this difficult area of the law there is only one correct approach or solution. but a narrow doctrine of common law mistake (as enunciated in bell v lever brothers [1932] ac 161), supplemented by the more flexible doctrine of mistake in equity (as developed in solle v butcher [1950] 1 kb 671 and later cases) seems to me to be an entirely sensible and satisfactory state of the law …subject to the qualification, which the court in digilandmall.com had already made at [58], that common law mistake should not be understood as narrowly as denning lj had suggested in solle v butcher, singapore law therefore recognises both the common law and equity as having relevant roles in cases of unilateral mistake. the recognition of a clear role of equity comes with the advantage that steyn j pointed out, which the court in digilandmall.com echoed at [77], namely that “[a] great attribute … of equity[] is its flexibility to achieve the ends of justice”. 167 the court specifically identified in this connection the ability of equity to address situations of constructive notice. by this, it made clear that it was referring to situations falling short of actual knowledge: see eg, digilandmall.com at [76], [77], [83] and [88]. of such situations, the court said:77 … constructive notice is a concept of equity and whether constructive notice should lead the court to intervene must necessarily depend on the presence of other factors which could invoke the conscience of the court, such as “sharp practice” or “unconscionable conduct. negligence per se, on the other hand, should not be sufficient to invoke equity. parties to a contract do not owe a duty of care to each other. one important consideration that may, of course, arise is that the exercise of any equitable jurisdiction can and will always take care to protect legitimate third party interests. here, however, it was not suggested that any such interests which arose in the very short period before the mistake came to light precluded the avoidance by quoine of the transactions. (paragraph 256 of the judge’s first instance judgment mentions – but only as a reason for not ordering specific performance against quoine – that, “[b]efore the trades were reversed”, b2c2’s software generated sales of slightly under one-third of the btc “on nine different exchanges”. since any such sales were not relied on as a bar to avoidance, no consideration was, it seems, given to their terms or prices, though these may of course become material to damages.) 168 the court in digilandmall.com developed its reference to unconscionability in the following dicta:78 however, “unconscionability” cannot be imputed based on what a reasonable person would have known. it must be based on matters the non-mistaken party knows: see can-dive services v pacific coast energy corp (2000) 74 bclr (3d) 30 (“can-dive”) per southin ja at [142]. one cannot act unconscionably if one does not know of facts which could render an act so. thus, we do not think we can accept the views of shaw j, the lower court judge in can-dive, that constructive knowledge alone would suffice to invoke equity’s conscience. however, as we have indicated earlier, canadian jurisprudence has moved in that direction. 169  the judgment in digilandmall.com, therefore, indicates that unilateral mistake in equity can exist where there is a combination of factors: (i) constructive notice of a mistake which would, if actual knowledge existed, render the contract void; (ii)(a) behaviour by the non-mistaken party which is unconscionable (b) based on knowledge by the non-mistaken party of the facts involved in the unconscionability. it is also consistent with the further proposition, which i would endorse, that the flexible equitable doctrine is capable of covering situations of unilateral mistake, where the mistake, although not strictly as to subject matter or a term, is sufficiently “fundamental” to justify equitable intervention – subject again, if the analysis in digilandmall.com is followed through, to the presence of factors (ii)(a) and (b). 170 the analysis in digilandmall.com does, however, give rise to two points, which i mention although their resolution is not in my opinion necessary for the determination of this appeal. first, if unconscionable behaviour based on knowledge by the non-mistaken party is understood as behaviour conducing to the mistaken party remaining mistaken, then it is difficult to see how there could ever be constructive notice. as the court in digilandmall.com recognised at [76], [77], [83] and [88], constructive notice comes into consideration where there is no actual knowledge of the mistake. second, the primary basis for equitable relief on the ground of unilateral mistake is the mistake of which the non-mistaken party has constructive notice. where unconscionability operates, it is as an additional element (see digilandmall.com at [77], [80] and [83]) – in effect a control mechanism. authorities such as, most recently, bom deal with the situation, materially different therefore from the present, where unconscionability is all that is relied on to justify the setting aside in equity of an otherwise valid transaction. the limited view of unconscionability taken in bom (linking it closely with what was called “class 1 undue influence”) must be seen in that context. where the primary basis for relief is a mistake of which the non-mistaken party has constructive notice, no reason appears why unconscionability should not operate on a flexible basis to meet the equity of the particular case. 171 consistently with the first point, unconscionable behaviour conducing to the mistaken party remaining mistaken is a typical – though not essential – hallmark of unilateral mistake at common law based on actual knowledge of a mistake as to a term which the non-mistaken party “snaps up”. thus, in common law cases such as tamplin v james (1880) 15 ch d 215, quoted in hartog v colin & shields [1939] 3 all er 566, courts spoke in terms of a party “snapping up the offer”, which, as also in digilandmall.com, the non-mistaken party actually realised to be mistaken. (the position is different in australia, where, for reasons explained at [164] above, the role of equity is much greater and embraces situations of “snapping up” with actual knowledge, like that in taylor v johnson itself, which would under english and singapore law fall within common law mistake.) but “snapping up” or unconscionable behaviour conducing to the mistake is not an essential feature of unilateral mistake at common law, because this can occur where there is simply knowing and silent “standing by”.172 there can be marginal situations where a non-mistaken party suspects a mistake by the other party and “proceeds on a course of wilful ignorance designed to inhibit his own actual knowledge of the other’s mistake” (in the words of mclachlin cjbc, as she then was, in first city capital ltd v british colombia building corp (1989) 43 blr 29 (“first city capital”) at [30]). but, just as shutting a blind eye may be equated with actual knowledge or recklessness with intention, such situations are best equated with actual knowledge, rather than treated as cases of constructive notice. that is in my opinion correctly stated by the court in digilandmall.com at [42], where it referred to ‘what is called “nelsonian knowledge”’, namely wilful blindness or shutting one’s eyes to the obvious”, and went on to state:… clearly, if the court finds that the non-mistaken party is guilty of wilful knowledge, it will be in line with logic and reason to find that that party had actual knowledge.however such situations may be analysed, it is clear that the court in digilandmall.com understood the concept of constructive notice to extend to a different, broader range of situations.173 it follows that if constructive notice is to have the relevant role in relation to unilateral mistake in singapore law, which the court in digilandmall.com in my view correctly assigned to it, unconscionability cannot relate to behaviour with knowledge of the mistake conducing to the mistaken party remaining mistaken. equity’s conscience must be capable of being affected by behaviour in seeking to retain the benefit of the mistake, once it is discovered. taking words which were used by the court in digilandmall.com itself at [80], the court is then:… [e]ntitled to intervene and grant relief when it is unconscionable for the non-mistaken party to insist that the contract be performed. …174 two passages from prior canadian authority cited by the court in digilandmall.com at [49] and [51] need to be read with caution and in context, in so far as they may at first reading appear to link unconscionability and “snapping up” to equitable relief in circumstances of constructive notice. the two passages come from the first instance decision in first city capital ltd at [34] and the british colombia court of appeal decision in 256593 bc ltd v 456795 bc ltd (1999) 171 dlr (4th) 470 (“256593 bc ltd”) at [25]. in the first passage, mclachlin cjbc said that, on a hypothesis of no actual knowledge:... [t]his is most certainly a case where [the defendant] ought to have known that [the owner] had no right to sell the building to it. nevertheless, [the defendant], in its negotiations with [the owner], pursued a course designed to inhibit discovery of the mistake, moving with uncharacteristic haste to snap at [the owner’s] mistaken offer.on its facts, first city capital falls fairly clearly into the category of nelsonian knowledge: see in particular at [18]–[20] of first city capital, where mclachlin cjbc concluded that bcbc “at very least suspected” a mistake and checked with a superior the authority of the junior with whom it was dealing “without, significantly, asking … about the substance of the transaction, a course which might have disclosed the error”.175 the second passage is attributed in digilandmall.com to donald ja, giving the judgment of the court of appeal in 256593 bc ltd. but it was actually a quotation by donald ja, from (once again) the judgment of mclachlin cjbc in first city capital, about which donald ja went on to make this reservation:[26] counsel for ace submits there is no evidence of snapping up the offer in the present case. assuming that to be so, i do not think that conduct so characterized is necessary for rescission on mistake. i respectfully agree with the reasoning of shaw j. in can-dive … where he said at 69-70 that:while i agree with what madam justice mclachlin said so far as it goes, i do not believe she intended to imply that there must be a conscious taking advantage by one party of the other in all cases. the element of constructive knowledge based upon what a reasonable person “ought to know” is premised upon that person not being conscious of the error. thus, while the idea of “snapping up” may well apply in cases where one side is aware of the other side's error, i do not think it can be applied literally in the constructive knowledge cases. rather, in my opinion, constructive knowledge alone will suffice to invoke equity's conscience. [emphasis added].[27] baker j. in craig estate v. higgins (1993), 86 b.c.l.r. (2d) 64, put in summary form at 72 a statement of the law with which i respectfully agree:the court may grant relief from a contract entered into on the basis of unilateral mistake where the plaintiff has established, and has met the high burden imposed upon it of doing so, that a mistake has been made and that it would be unjust or inequitable for the court to allow the other party to uphold the bargain. one of the grounds on which a court may find that it would be unfair or inequitable is if the party seeking to enforce it had actual knowledge or constructive knowledge that a mistake had been made prior to acceptance of the offer.[28] all the elements for rescission on unilateral mistake are present here: (1) a mistake; (2) on a material term; (3) known actually or constructively by the non-mistaken party; and (4) an unconscionable result if the settlement agreement is enforced. it is my opinion that the mistake gives ace a huge windfall that it had never bargained for and leaves earl’s with an outstanding debt while simultaneously transferring earl’s’ interest in the very asset underlying that debt.176 other passages in mclachlin cjbc’s judgment in first city capital in my opinion actually support the analysis adopted in british colombia by the court of appeal as well as by shaw j and baker j. thus, referring to mcmaster university v wilchar construction ltd [1971] 3 or 801, 22 dlr (3d) 9 (hc) at p 18, mclachlin cjbc said: [26] in mcmaster, the court held that the offeror was to be relieved from a contract involving a mistake known to the offeree because “it would be unconscionable, unfair and unjust to permit the plaintiff to maintain the contract” (p. 22). this test was applied by gould, j. of this court in beverly motel (1972) ltd. v. klyne properties ltd. (1981), 30 b.c.l.r. 282 … :provided there is mistake as to the promise or as to some material term of the contract, if the court finds that there has been honest, even though inadvertent, mistake, it will afford relief in any case where it considers that it would be unfair, unjust or unconscionable not to correct it …[27] … fraud in this wider sense refers to transactions falling short of deceit but where the court is of the opinion that it is unconscientious for a person to avail himself of the advantage obtained …”[emphasis added] 177 at [78] of digilandmall.com, quoted at [167] above, the court cited southin ja who said at [142] of can-dive services v pacific coast energy corp (2000) 74 bclr (3d) 30 that “questions of unconscionability are not matters to be determined on what someone ought to have known, but what he did know”. the context was a claim to rectify a sub-contract to give a right to claim extra remuneration for working in difficult soil conditions, in circumstances where it was thought (as it turned out mistakenly) that such a right anyway followed from the back-to-back terms of the head contract. the claim failed on the basis that ‘[t]he critical “fact” - the true meaning of the head contract - was unknown to both parties to the sub-contract until the learned trial judge handed down his judgment”: can-dive at [143]. both parties had “agreed to be bound by the head contract, whatever it meant”, and the claim amounted to an attempt to rectify the bargain, rather than the sub-contract (can-dive at [141] and [144]). but what is of current interest is that southin ja, with whose judgment ryan ja agreed, gave at [141], as an example of a situation where equitable relief against mistake could be given, a scenario where a mistake occurred in the course of “mechanical” transcription and was only subsequently discovered. she said: in the case at bar, if, when the subcontract had been typed up, the typist had omitted to put in the weather clause upon which the parties had struck a bargain, it would, in my opinion, be equitable fraud for the head contractor to say, in effect: “well, too bad, see the words of the contract.” but that is not what happened here. … 178 the court at [78] of digilandmall.com also expressed some disagreement with the views of shaw j at first instance in can-dive, while going on to recognise that canadian jurisprudence “has moved in that direction” - quite possibly a reference to the british colombia court of appeal’s reasoning in 256593 bc ltd. but the problem is not just one of preference, it goes to the heart of any significant doctrine of constructive notice as a basis for equitable relief. it is not however critical, as i see it, to resolve the problem in this case, which is concerned with a different issue: how, if at all, a doctrine based on a need for either actual or constructive notice can operate in circumstances where neither party was or could have been aware of the mistake as and when it occurred. as will appear, i consider that this conundrum can be resolved in this case by considering what b2c2’s actual state of mind would have been, given knowledge of the circumstances of the transactions as and when they occurred. to that extent, the case parallels situations of actual knowledge, rather than constructive notice. conceptual basis of unilateral mistake179 before considering further how the law of unilateral mistake may apply in the present case, i should say something about its conceptual basis. the court at [31] of digilandmall.com, in a phrase quoted in the majority judgment at [81], suggested that it is “self-evident” that “a party who is aware of the error made by the other party cannot claim that there is consensus ad idem”. there is a long-standing academic debate about the foundational principle underpinning the law of contract at common law. is contract based on objective evaluation of the parties’ communications against the background of all the circumstances which were or are to be taken to have been within their knowledge? or is it based on subjective consensus, modified in almost every case by the consideration that each party will be effectively precluded from relying on any interpretation different from that which they objectively agreed between them (an approach similar to that which i understand the french civil code to adopt: see eg, dallah real estate and tourism holding company v the ministry of religious affairs, government of pakistan [2011] 1 ac 763, at [19])? if the former, then unilateral mistake operates as a limited exception to the objective approach, which is how it is explained in chitty at para 3-022; see also treitel on the law of contract (sweet & maxwell, 14th ed, 2015) at paras 1-002, 2-002 and 8-047; and john cartwright, misrepresentation, mistake and non-disclosure (sweet & maxwell, 3rd ed, 2012) at para 13-02. if the latter, then unilateral mistake is one, limited situation where estoppel cannot and does not operate, because there is no reliance. 180 in taylor v johnson, the high court of australia concluded at [9] that “[w]hile the sounds of conflict have not been completely stilled, the clear trend in decided cases and academic writings has been to leave the objective theory in command of the field”. i agree with this, and it corresponds with the terms in which other common law courts have described the principles governing contract: see eg, reardon smith line ltd v yngvar hansen-tangen [1976] 1 wlr 989 at 997; investors compensation scheme ltd v west bromwich building society [1998] 1 wlr 896 at 912; charter reinsurance co ltd v fagan [1997] ac 313 at 384; and wood v capita insurance services ltd [2017] ac 1173 at [10] (“the court’s task is to ascertain the objective meaning of the language which the parties have chosen to express their agreement”). on that basis, unilateral mistake is an exception, recognised by the law to further the ends of justice, of a similar character to the principles underlying the law of misrepresentation, undue influence or mistake. the court in digilandmall.com effectively recognised this at [31] when it said: … the law should not go to the aid of a party who knows that the objective appearance does not correspond with reality. it would go against the grain of justice if the law were to deem the mistaken party bound by such a contract. this analysis also has the further consequential advantage of explaining why and how the law can establish, as the court recognised that it should in digilandmall.com, different rules for common law mistake in circumstances where a fundamental mistake as to a term is involved (the contract is void), and for equitable mistake (the contract is potentially voidable). the logic of the theory of subjective consensus is that there is no contract at all in any case of unilateral mistake, whether common law or equitable. the high court of australia pointed this out in taylor v johnson at [8].181 the value of a differentiated analysis of unilateral mistake, operating both at common law and in equity, is that it enables the court to address in a circumstance-specific way situations where, for one reason or another, parties objectively reach agreement on a contract which, as one party knows or ought to know, differs in some fundamental respect from what the other party thinks it is or means. the mistake may, i add, come to the former party’s knowledge quite independently of and outside the contractual discussions. take for example, a contract made for oats or even for new oats, where the seller, unknown to the buyer, is told by a third party with no authority to act for the buyer (or discovers by reading without permission a piece of paper on the buyer’s desk while the buyer is out of the room), that the buyer believes it to be a term of the contract that the oats will be old. the offer and acceptance and the contract made all objectively permit or call for the delivery of new oats, but the seller’s knowledge of the buyer’s actual misapprehension prevents the seller from insisting on performance. the underlying rationale is not a lack of correspondence between offer and acceptance, but a principle of justice. the application or adaption of the above principles182 i turn to the application, or adaption, of the above principles in the present circumstances. for the reasons given by the majority at [114], i agree that the present case cannot readily be analysed as involving an actual mistake as to a term of the transactions as executed. that is because of the very fact that the transactions were effected by computers operating mechanistically according to algorithms, leading inexorably, although blindly, to such transactions. the case does not therefore fit within the principles governing unilateral mistake at common law, and it would not be right to extend these to cover such a situation, since the operation of the algorithms might also have led (though it did not do so here) to relevant third party interests arising before any human discovery of the mistake. what can however be stated with confidence is that the mistake and its outcome in the form of the transactions was in human terms just as fundamental as the sort of mistake at issue in digilandmall.com. the reaction of any human trader viewing the transactions as executed would have been that they were fundamentally misconceived – the result of some fundamental mistake leading to terms for the sale of btc to which no seller of btc would, in prevailing market conditions, agree. 183 in these circumstances, the enquiry therefore moves to the more flexible area of unilateral mistake in equity. for that purpose, the judge’s findings, in particular at [227] were and are, to my mind, clear. there was a fundamental mistake, in that quoine’s system operated (and led to the sale of btc on terms) in a way that was not conceived as possible and would never have been accepted by quoine or the counterparties in the prevailing circumstances. further, although b2c2 had no knowledge of the mistake as and when it occurred, the position is that, as soon as it inspected the computer print-outs next morning, it knew at once that there had been such a mistake, and emailed its message to quoine: “major quoine database breakdown”, to which i referred at the outset of this judgment and to which i shall return at [203]. the question is whether, where two parties well know that there has been a fundamental mistake as soon as a computerised transaction comes to their attention, where no detriment has occurred and no relevant third party interests intervened, and where the mistake could readily be rectified, the law will enforce the contract regardless. for the reasons i will give, in my opinion, the law should and can in such circumstances hold that the contract is voidable, as quoine claims.184 certainty in contract is of course important, but it is not everything: see eg, golden strait corporation v nippon yusen kubishiki kaisha (the “golden victory”) [2007] 2 ac 353; bunge sa v nidera bv [2015] 3 all er 1082. like all great judges, lord mansfield could see the force of both considerations. in vallejo v wheeler (1774) 1 cowp 143 at 153 he said that: in all mercantile transactions the great object should be certainty: and therefore, it is of more consequence that a rule should be certain, than whether the rule is established one way or the other. because speculators in trade then know which ground to go upon. but in another famous decision, alderson v temple (1768) 4 burr 2235 at 2239, he showed a different concern:… [t]he most desirable object in all judicial determinations, especially in mercantile ones, (which ought to be determined upon natural justice, and not upon the niceties of the law,) is, to do substantial justice. …there are cases where justice outweighs in the balance the interests of legal certainty. the court in digilandmall.com recognised this in the present context, endorsing at [81] a statement of assoc prof yeo tiong min that ‘[t]he fear that the use of “elastic” equitable principles will lead to uncertainty and encourage litigation is arguably exaggerated’ and adding it ‘is not more difficult to determine what is “equitable” than what is “reasonable” at common law’.185 the critical problem which quoine faces in this case is that, in conventional cases of unilateral mistake, the relevant knowledge or constructive knowledge either exists or not, as a matter of fact, as and when the contract is made. the focus of the enquiry is then on the actual state of mind and conduct of human beings involved in the making of the contract. that approach is by definition impossible in the different context of a contract made between computers programmed by humans. but the right approach is less obvious. the judge dealt with the issue as follows:200 quoine submits that the court should consider what the parties are likely to have known and intended if, hypothetically, they had met on the “floor of the exchange” for the purpose of reaching an agreement on the trades on 19 april 2017. on this basis, as i understand it, it is contended that mistakes can be identified by comparing theoretically what would have happened in face-to-face negotiations with what actually happened at the computer interface. …202 b2c2 contends that there must be a mistake as to a term of the contract and that the party placing the order, albeit by a computer, must be the person mistaken. it was not sufficient if there was a mistake as to facts surrounding that term. in this respect therefore b2c2’s position was that the assessment of a relevant mistake was no different in the case of computer transactions than in face-to-face transactions.203 further, relying on chwee [ie, digilandmall.com], b2c2 contends that the only relevant knowledge is knowledge at the time of contracting and suggests that it is wrong to assess knowledge or constructive knowledge at the time the deep price mechanism was programmed.204 so far as concerns the nature of the mistake, i cannot accept quoine’s hypothetical meeting contention. the question is not what would have happened if the computer element was absent. the parties have chosen to use computers as the means of entering the trading contracts. they have entered platform contracts with quoine so as to be able to enter trading contracts and, in the case of margin traders, they have entered the margin trading contracts to regulate their position vis-à-vis the lender, in this case quoine. all parties were therefore aware that there was to be no human element in the trades and it is wholly artificial to work on the basis of what might have happened if a human element was involved. equally whilst b2c2’s position identifies what the nature of the mistake must be, it does not assist in determining how and when to identify it.205 in the circumstances of this case, i have concluded that the relevant mistake must be a mistake by the person on whose behalf the computer placed the order in question as to the terms on which the computer was programmed to form a trading contract in relation to that order. this mistake will have to be in existence at the date of the contract in question but may have been formed at an earlier date. the existence of a relevant mistake will be a question of fact in each case.206 turning to knowledge of the mistake, the law in relation to the way in which ascertainment of knowledge in cases where computers have replaced human actions is to be determined will, no doubt, develop as legal disputes arise as a result of such actions. this will particularly be the case where the computer in question is creating artificial intelligence and could therefore be said to have a mind of its own.…210 where it is relevant to determine what the intention or knowledge was underlying the mode of operation of a particular machine, it is logical to have regard to the knowledge or intention of the operator or controller of the machine. in the case of the kitchen blender, this will be the person who put the ingredients in and caused it to work. his or her knowledge or intention will be contemporaneous with the operation of the machine. but in the case of robots or trading software in computers this will not be the case. the knowledge or intention cannot be that of the person who turns it on, it must be that of the person who was responsible for causing it to work in the way it did, in other words, the programmer. necessarily this will have been done at a date earlier than the date on which the computer or robot carried out the acts in question. to this extent i reject b2c2’s contention that that the only relevant knowledge is knowledge at the time of contracting. i agree with quoine that regard should be had to the knowledge and intention of the programmer of the program in issue when that program (or the relevant part of it) was written.211 accordingly, in my judgment, in circumstances where it is necessary to assess the state of mind of a person in a case where acts of deterministic computer programs are in issue, regard should be had to the state of mind of the programmer of the software of that program at the time the relevant part of the program was written. in the present case that person is mr boonen.186 the judge then gave effect to this approach, by examining first the state of mind of pulsar and mr tomita operating as margin traders on the market and then that of mr boonen when he programmed the b2c2 computer and set it into operation to trade on the market. as to the former, the judge focused on the state of mind of the margin traders, and, on the basis of the evidence given by mr tseung of pulsar, accepted that both pulsar and mr tomata held a mistaken belief which was fundamental to the trades. the judge explained this conclusion as follows:227 mr tseung, however, gives evidence that because the trades were carried out at the highly abnormal price, they were clearly invalid and that pulsar did not consider them to be valid. he went on to state “[i]t was never contemplated by pulsar that any trades may be transacted on the platform at prices which deviated so substantially from the actual market prices”. although he gave no reasons for holding this belief, he was not cross-examined on this statement and i therefore accept that this was a genuinely held belief. indeed, having heard all the evidence, i can well understand that a trader on the platform who was not a market maker might well have formed such a belief even having read the agreement and the risk disclosure statement. it is a belief which is founded on the premise that the platform would either always operate as intended or, alternatively, if for some reason it did not, there would be adequate error identification and protection systems in place to prevent trading continuing in such circumstances.228 i therefore accept that the counterparties held this mistaken belief and that it is a belief which is fundamental to the trading contracts.187 the evidence was, in substance, that pulsar never contemplated that trading could occur at such deviant prices other than as a result of some egregious error. the judge said he could well understand that a trader on the platform who was not a market maker might well have formed such a belief. the reservation “who was not a market maker” deserves a word. 98% of the relevant market making on the platform was done by quoine, as the majority judgment recites at [10], and there is every reason to think that it would and did view the relevant trades in exactly the same way as mr tseung of pulsar, and sought to set them aside on that basis. the judge’s reservation presumably arises because b2c2 did some market making, and at the same time also issued its “deep” bids and offers which it contemplated might be accepted for some reason other than a mistake (though the suggested unfathomable market event had never in fact arisen). the reservation therefore takes one back to the core of the issue – whether b2c2’s accepted intention to cater for wholly unfathomable events (which in fact never occurred) is the answer to the claim of unilateral mistake. 188 a collateral observation which it is convenient to interpose at this point is that it is, to my mind, odd that attention at trial should have been so focused on the margin traders, and not on quoine. it was quoine whose computer was programmed to instruct the trades. moreover, most of the btc sold did not exist as assets of pulsar, and there must at least be a question whether quoine could have had ostensible authority to bind pulsar by a sale of non-existent assets which quoine can have had no actual authority to sell on pulsar’s behalf. these points were not explored before us, and i need say no more about them, save to repeat that, if attention had been focused on quoine’s state of mind, rather than that of the margin traders, i feel confident that the judge would have made the same finding with regard to quoine that he made with regard to the margin traders.189 having found a fundamental mistake on the side of the suppliers of btc, the judge turned to consider the other side of the issue, whether the mistake was sufficiently known to b2c2 as the supplier in exchange of eth. as to this, he said:229 it is next necessary to determine whether mr boonen had actual knowledge of the mistaken belief at the time he inserted the deep prices and i thus return to the findings of fact in [118]–[125] above. can it be said that mr boonen knew that “it was never contemplated by [any trader] that any trades would be transacted on the platform at prices which deviated so substantially from the actual market prices”? this amounts to a belief held by mr boonen at that date that the price was so abnormal that no trader would trade at that price otherwise by way of a mistake. 230 this is the aspect of this case that i have found to be most troubling but i have concluded on the basis of those findings of fact that mr boonen did not insert the deep prices with that belief. he foresaw that a number of factors might arise which would cause the deep prices to be inserted and the overriding reasons for them being inserted was to protect b2c2 in the event of the unexpected happening. he did not exclude the possibility of trades at those prices being executed. whilst he was aware that one possible cause was that it could be the result, wholly or in part, of some error or omission on the part of someone, including himself, he did not turn his mind in any detail to the circumstances that might lead to such trades being executed. he knew that the platform was an automated system and that therefore no opportunity would arise for any particular trade to be reviewed by the parties in advance. in the circumstances of this case, in order for him to have actual knowledge that other traders believed that in no circumstances would a trade be transacted on the platform at prices which deviated so substantially from the actual market prices, i consider that it would be necessary for it to be demonstrated that he held that belief himself, which he did not: see [123] above. 231 accordingly, whilst i accept that the counterparties held the second mistaken belief relied upon by quoine, i do not accept that mr boonen had actual knowledge of that belief. the defence of unilateral mistake at common law therefore fails.” 190 the paragraph numbered [123], to which the judge referred at the end of [230] read as follows:123 i therefore accept that when mr boonen configured the code he knew of the possibility that the order book might become empty and that in that event the deep prices would be placed on the order book but i do not accept that he ever considered that there was a real possibility of the deep price orders being executed. he considered that this was unlikely and i do not believe that he turned his mind in any detail to the circumstances in which this might happen. that was not the motivation for designing the software as he did. he did not consider that the deep prices were irrational. indeed he gave cogent reasons for the selection of the prices which were directed to protecting the integrity of his system but at a level which he felt would not be so high as to cause a circuit break on the platform: see [86] above. this last factor is inconsistent with any assertion that mr boonen understood that trades would only be matched by the platform at prices at or near the previously existing prevailing market price: see [230] below.the judge went on at [124]:124 the evidence does not support the conclusion that when designing the code mr boonen perceived that no trader would ever agree to buy eth at such a price unless he had made a mistake and included the deep prices with this in mind. …191 in relation to mr boonen the judge therefore thought that the relevant enquiry was whether he knew or believed when he programmed b2c2’s computer, prior to and in june 2016, that no trade would ever take place at the deep prices which he had programmed his computer to output to the platform at apparently random times other than as a result of some fundamental error. since the judge had held that mr boonen had a rational motive for inserting the deep prices (which mr boonen had explained as being to cover very unusual or unfathomable market conditions: see the judgment at [113], quoted at [158] above), he could not be said to know or believe when programming his computer or at any time in advance of the actual transactions that, if a transaction took place at the deep prices, it must involve a mistake and nothing else.192 on such an approach, before any relief could be granted, it would have to be shown (a) that mr boonen knew by prophetic foresight that the particular transactions would occur at the deep prices over the night of 13 april 2017 due to some fundamental error (which is obviously impossible) or (b) that each and every transaction which might ever occur at the deep prices he offered would be the result of some mistake, ie, that any transaction at his deep prices could only arise from some fundamental mistake. the latter approach, which the judge adopted, therefore looks at the position in the abstract and in advance, without any regard for the actual transactions or the market circumstances surrounding them. this is a different approach to that which applies when considering mistake in the context of a transaction completed by human intervention, when the first question is the actual state of mind of each party in the light of the surrounding circumstances. if one of them by mistake refers to a price per “pound”, rather than per “piece”, the other, if aware of the state of the market, will know in that light when a wholly mistaken word has been used. the judge’s approach involves omitting a usually important element in any appraisal of such a situation, namely (here) whether there was anything drastically unusual about the surrounding circumstances or the state of the market to explain on a rational basis why such abnormal prices could occur, or whether the only possible conclusion was that some fundamental error had taken place, giving rise to transactions which the other party could never rationally have contemplated or intended. 193 the key question is, therefore, whether the law of unilateral mistake falls to be applied in a manner which leaves out of consideration circumstances which are normally central to its application, simply because the parties entrusted their dealings to computers which can have no such consciousness. in my opinion, it does not and should not. the law must be adapted to the new world of algorithmic programmes and artificial intelligence, in a way which gives rise to the results that reason and justice would lead one to expect. the introduction of computers no doubt carries risks, but i do not consider that these include the risk of being bound by an algorithmic contract, which anyone learning of would at once see could only be the result of some fundamental error in the normal operation of the computers involved. computers are outworkers, not overlords to whose operations parties can be taken to have submitted unconditionally in circumstances as out of ordinary as the present. i do not think that the obvious malfunctioning of a computer-based system should be given the dominance that b2c2’s case implies. 194 in my opinion, it is necessary to revisit the judge’s refusal to take as the relevant test what mr boonen or anyone in his position could or would have known or believed, if he or they had known of the circumstances which have actually occurred. that is a test which relates what actually occurred to natural human reactions, given knowledge of what occurred. it matters not whether one assumes such knowledge at the time of the transactions, or prophetically in advance. the answer is the same. if it would at once have been perceived that some fundamental error had occurred, relief should be available. there is no difficulty here about identifying the circumstances to which, given such knowledge, the objective test would and should be applied.195 for the reasons indicated at [182] and [183] above, any relief should be equitable, rather than at common law. the fact that computers were involved makes this appropriate. b2c2’s computer might have on-sold the btc by algorithm at a normal price to a bona fide purchaser for value. equity could then refuse to set aside the transaction whereby b2c2 acquired the btc. the fact that quoine was at fault should not however point decisively away from relief. there was here certainly a series of avoidable errors, which some might suggest should preclude relief. but the question is whether the errors were so egregious as to justify imposing (on whichever of pulsar and mr tomita or quoine might end up holding the parcel) a loss of perhaps millions of dollars, and benefitting b2c2 to the tune of perhaps millions of dollars by way of what some would call an uncovenanted windfall. in circumstances where b2c2 would and did know at once that some fundamental error had occurred, which error could be rectified without any detriment being suggested to b2c2 or any third party, i have no doubt about the answer. unilateral mistake commonly involves fault, even if the fault only consists in failure by the mistaken party to appreciate what impression they have, objectively, given to the other party. where the error is known, the fact that it is or may be attributable to fault cannot axiomatically outweigh the considerations of fair dealing that lead to relief both at common law or, a fortiori as here, in equity. the high court of australia cited in this connection, with apparent approval, at [13] of taylor v johnson, the position in the united states that “it matters not that the mistake is, or may be, due to negligence or want of care on the part of the party who is mistaken when the other party has not materially changed his position and third party rights are not in question (de paola v. city of new york (1977) 394 nys (2d) 525, at pp 527–528)”. but it is unnecessary to go that far. there is on any view a balance. in the present case, where any reasonable trader would at once have identified, as b2c2 did identify, a fundamental computer system breakdown as the cause of the transactions, the considerations weighing in favour of reversal of the transactions outweigh in the balance any errors or faults which led to that breakdown. 196 it should also be remembered that fundamental errors of the present nature can and do occur in computerised exchanges without any fault. suppose in the present case that a mouse had eaten, or a third party using a mechanical digger had cut, a cable linking the platform to the quoter program. or suppose someone had hacked into quoine’s computer and disconnected the link. the same question, whether relief could be granted, would arise, without there being necessarily any background of fault. the law must be capable of addressing such a situation in a manner which corresponds with what i would regard as the clear justice of the case, as well as with the natural expectations of reasonable traders. 197 it was suggested that all such problems, including the present, could have been dealt with by appropriately framed conditions of business. no doubt that is so. but the same could said in many of the situations in which the common law has developed principles of relief, to achieve just results. the law governing mistake is itself a classic example, as is the law of misrepresentation, duress, undue influence, etc. the question is not whether the parties might have regulated such situations generally, or the present situation in particular, by specific agreement, but whether in the circumstances they should be taken to have accepted the risk of their occurrence so as to preclude application of such common law principles, adapted as necessary to the age of algorithms.198 there is nothing surprising about the law applying a test which asks what an honest and reasonable trader would have understood, given knowledge of the particular circumstances. the law of contract itself is, as i have indicated at [179]–[181], based generally not on what the parties actually thought or knew was the effect of particular words or conduct, but upon what they must reasonably be taken to have understood or known in all the relevant circumstances. 199 a similar objective approach is also found in tort and criminal law. take the tort of knowing or dishonest assistance. this is committed where a breach of fiduciary duty has been committed by a, and b is said to have assisted it dishonestly. but dishonesty is judged objectively in the light of the circumstances known to the alleged assister. in other words, there are two stages: the first is to ascertain what the alleged assister knew; but, once that is ascertained, the honesty or dishonesty of their conduct falls to be judged by an objective standard of honesty to be expected and applied in the light of such knowledge: see barlow clowes international ltd & ors v eurotrust international ltd & ors [2006] 1 wlr 1476; see also two recent judgments of the court of appeal of england and wales applying this test: group seven ltd v notable services llp [2019] ewca civ 614 and simetra global assets ltd v ikon finance ltd [2019] ewca civ 1413. this objective approach also applies in the criminal law: see ivey v genting casinos (uk) ltd [2018] ac 391, indicating that the decision in r v ghosh [1982] qb 1043 should no longer be followed in so far as it stated that a defendant must be conscious subjectively that his conduct was dishonest.200 there is nothing surprising, impermissible or unworkable therefore about a test which asks what any reasonable trader would have thought, given knowledge of the particular circumstances. that is the proper approach, in my opinion, in the present situation. whether the unknown activities of two computers in the middle of the night should bind the parties should be judged by asking whether any reasonable trader, on the relevant exchange, knowing what was happening (or what had happened) could or would have thought, in the otherwise prevailing circumstances, that this was anything other than the consequence of a gross and unintended “major database breakdown” or error with equivalent effect. since this is how b2c2 actually categorised it, the answer is doubly obvious. of course, this test involves a hypothetical, as the judge said at [204]. but it does not work on the basis of speculation as to what “might” have happened if a human element had been involved. on the contrary, it provides relief in equity in the present case because any reasonable person, knowing of the relevant market circumstances, would have known that there was a fundamental mistake. it is the judge’s approach which seems to me, to use his word, “artificial” in assessing whether the contract can stand, not by reference to the circumstances and time when it was made, but on the basis that mr boonen would have to be shown to be aware in advance that the only circumstances in which a contract could come into existence at his deep prices would be if some fundamental mistake occurred. that prevents any assessment of the validity of computer-made contracts as and when made, and potentially enables traders to make what an honourable and reasonable trader would, i believe, identify as an unjustified windfall – and would expect to forego because it was such. 201 in the present case, there can only be one answer to the question of what any reasonable trader with knowledge of the market circumstances would have thought. there was not and never has been any suggestion that mr boonen’s very unusual or unfathomable market developments occurred. the only explanation of the transactions, whether hypothesised in advance, observed concurrently or considered early next morning, was and is major error – as b2c2 at once saw. 202 mr boonen was very well informed about actual world and market circumstances. the judge recorded (at [102]):… he explained that b2c2 was connected to 15 exchanges at the time, on some of which up to ten pairs were traded. the market for btc/eth on the platform was relatively small … as to mr boonen’s state of mind when next morning he observed the overnight trades, the judge recorded (at [114]):… mr boonen gave evidence that he was surprised when he first saw that the orders had been filled and that he considered the possibility that there was an error on the platform or an error in the b2c2 system. having checked that there were no apparent errors in either system he thought “wow, there must have been something incredible happened [sic] in the market overnight”.mr boone’s reaction that something incredible must have happened in the market overnight cannot have lasted more than a second, since his connection to fifteen world exchanges would have informed him that no such thing had happened. 203 curiously, but very relevantly on this appeal, the judge also omitted from the judgment reference to one key document which above all others gives a key to mr boonen’s actual state of mind, on learning of the transactions next morning. he sent the email at 6.15am to quoine’s support team requesting that it call b2c2 urgently as he had detected a “major quoine database breakdown”. that is what the judge said he could well understand might be the reaction of an ordinary trader on the platform, and it was evidently what mr boonen thought. the present case is one, in my judgment, where any reasonable trader would expect the general law to afford relief, as it does in more conventional cases of mistake. unconscionability204 in so far as it is suggested that unconscionability is a pre-requisite to equitable relief, i would repeat what is indicated at [178] above. first, the present situation is one where the primary vitiating factor relied on is mistake, and, second, it is not one where relief is being sought on the basis of constructive notice. the question in the present case is not whether b2c2 had constructive notice, because constructive notice depends, like actual knowledge, on human involvement during the relevant transaction. the present case is one where the law needs to fashion an appropriate principle to cater for a situation where it is clear that there would have been actual knowledge of mistake had the actual transactions been foreseen in advance or had there been human involvement at the time (and where it is also the fact that there was such knowledge as soon as they were discovered). unconscionability in bringing about the transactions cannot and should not have a role in relation to this novel situation, which is, as i have indicated at [178], closer to one of actual knowledge than of constructive notice. i add that is unnecessary on the facts to consider in this case whether equitable relief would extend to the (probably unlikely) situation in which all that could be affirmed was that the party in b2c2’s position, knowing of the transaction against the relevant market background, should have realised that it had only come about as a result of some fundamental error. in this case, it can unhesitatingly be affirmed that b2c2 would actually have realised this, and did do so as soon as it knew of the transaction. 205 to the extent that unconscionability may be relevant, it is in my view clearly unconscionable in the present context of unilateral mistake for a trader to retain the benefit of transactions which he would – and did – at once recognise as due to some major error as soon as he came to learn of them. this parallels the analysis taken, in my view appropriately, by the court of appeal of british colombia took in 256593 bc ltd at [26]–[28], and is consistent with other statements of principle: see [172]–[175] above. i may also be forgiven for quoting here from a judgment of my own in the area of unjust enrichment – mcdonald v coys of kensington [2004] ewca civ 47. in that case, a purchaser insisted on holding onto a valuable registration number plate or mark (with the initials tac 1) for which he had not contracted and which had remained on the vehicle as transferred to him by a mistake on the part of the vendor. the issue was whether the purchaser had been unjustly enriched. his defence was that he had done nothing wrong and had simply acquired the number plate as part of the car which was now his. giving the sole reasoned judgment of the court of appeal of england and wales and holding that he had been unjustly enriched, i said this at [37]:looking at the matter generally, i have no doubt that justice requires that a person, who (as a result of some mistake which it becomes evident has been made in the execution of an agreed bargain) has a benefit or the right to a benefit for which he knows that he has not bargained or paid, should reimburse the value of that benefit to the other party if it is readily returnable without substantial difficulty or detriment and he chooses to retain it (or give it away to a third party) rather than to re-transfer it on request. even if realisable benefit alone is not generally sufficient, the law should recognise, as a distinct category of enrichment, cases where a benefit is readily returnable. a person who receives another’s chattel must either return it or pay damages, commonly measured by reference to its value. the mark is not a chattel, and it was not suggested before us that its return could at any stage (even before the gift to the partner) have been enforced, or that its non-return could sound in damages. (there were allegations below of implied duties to co-operate in the return of the mark, but the judge did not accept them, and there is no appeal in that respect.) however, mr mcdonald’s insistence on keeping the mark and the absence of any obvious means of compelling its re-transfer are reasons for analysing this case in terms of unjust enrichment. mr mcdonald knew that he had not bargained or paid for the mark. the mark or its benefit was in practice easily returnable. if mr mcdonald chose to keep it, then i see every reason for treating him as benefited.206 in my opinion, a parallel analysis applies here. equity will look at all aspects of a transaction. if it is immediately obvious that a mistaken transfer has occurred, a failure to do the honourable thing and return the benefit can be as unconscionable as the conduct of someone who plays some positive part in bringing the transaction about. conclusion207 in these circumstances, and on the basis that the test in law is that which i have suggested it should be, the claim that the transactions were voidable for unilateral mistake should have succeeded. i would have allowed this appeal accordingly.jonathan mance  international judgestanley lai sc, ong min-tse paul, lim jun rui ivan andmarrissa miralini karuna (allen & gledhill llp) for the appellant;amicus curiae.